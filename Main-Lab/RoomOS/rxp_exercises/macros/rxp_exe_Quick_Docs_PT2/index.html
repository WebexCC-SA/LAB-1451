<!DOCTYPE html><html lang="en" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Deep-dive into Cisco devices xAPIs">
      
      
        <meta name="author" content="Bobby McGonigle, Christopher Norman">
      
      
      
        <link rel="prev" href="../rxp_exe_Quick_Docs_PT1/">
      
      
        <link rel="next" href="../../../../Deployment/dep_intro/">
      
      
      <link rel="icon" href="../../../../../template_assets/webex75.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Part 2 - Optimizerxe-m2 - LAB-1451: Deep-dive into Cisco devices xAPIs</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../../../../stylesheets/customTextHighlight.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  <link href="../../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../../../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#quick-docs-macro-exercise-part-2-optimize-section-rxe-m2" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../.." title="LAB-1451: Deep-dive into Cisco devices xAPIs" class="md-header__button md-logo" aria-label="LAB-1451: Deep-dive into Cisco devices xAPIs" data-md-component="logo">
      
  <img src="../../../../../template_assets/webexLogo91.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LAB-1451: Deep-dive into Cisco devices xAPIs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Part 2 - Optimize<sup><sup>rxe-m2</sup></sup>
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo" aria-label="Switch to dark mode" type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="indigo" aria-label="Switch to light mode" type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../.." class="md-tabs__link">
        
  
  
    
  
  Home&nbsp;<i class="fa-solid fa-house" style="color:#B197FC;"></i>

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../Setup/stp_intro/" class="md-tabs__link">
        
  
  
    
  
  Lab Setup&nbsp;<i class="fa-solid fa-gear"></i>

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../rxp_intro/" class="md-tabs__link">
          
  
  
    
  
  RoomOS xAPI &amp; UserInterfaces&nbsp;<i class="fa-solid fa-video" style="color: #428bff;"></i>

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../Deployment/dep_intro/" class="md-tabs__link">
          
  
  
    
  
  Deployment&nbsp;<i class="fa-solid fa-cloud-arrow-up" style="color: #ff0000;"></i>

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../Resources/res_tools/" class="md-tabs__link">
        
  
  
    
  
  Tools&nbsp;<i class="fa-solid fa-gear"></i>

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../Resources/res_tools/" class="md-tabs__link">
          
  
  
    
  
  Resources&nbsp;<i class="fa-solid fa-globe" style="color:#ffd903;"></i>

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="LAB-1451: Deep-dive into Cisco devices xAPIs" class="md-nav__button md-logo" aria-label="LAB-1451: Deep-dive into Cisco devices xAPIs" data-md-component="logo">
      
  <img src="../../../../../template_assets/webexLogo91.png" alt="logo">

    </a>
    LAB-1451: Deep-dive into Cisco devices xAPIs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home&nbsp;<i class="fa-solid fa-house" style="color:#B197FC;"></i>
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Setup/stp_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab Setup&nbsp;<i class="fa-solid fa-gear"></i>
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    RoomOS xAPI &amp; UserInterfaces&nbsp;<i class="fa-solid fa-video" style="color: #428bff;"></i>
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            RoomOS xAPI &amp; UserInterfaces&nbsp;<i class="fa-solid fa-video" style="color: #428bff;"></i>
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rxp_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RoomOS Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2">
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    RoomOS xAPI
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            RoomOS xAPI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rxp_xapi/rxp_xapi_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    What are RoomOS xAPI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rxp_xapi/rxp_xapi_ssh/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SSH <sup><sup>rxp-1</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rxp_xapi/rxp_xapi_http/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HTTP <sup><sup>rxp-3</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rxp_xapi/rxp_xapi_macros/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Macros <sup><sup>rxp-6</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3">
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    RoomOS UserInterfaces
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            RoomOS UserInterfaces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rxp_userInterface/rxp_ui_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    What are RoomOS UserInterfaces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rxp_userInterface/rxp_ui_features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Features <sup><sup>rxu-1</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rxp_userInterface/rxp_ui_extensions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extensions <sup><sup>rxu-2</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rxp_userInterface/rxp_ui_messages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Messages <sup><sup>rxu-3</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../rxp_userInterface/rxp_ui_webContent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Web Content <sup><sup>rxu-4</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" checked>
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Solution Exercises
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Solution Exercises
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rxp_exe_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Abstract &amp; Best Practices
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_2" checked>
        
          
          <label class="md-nav__link" for="__nav_3_4_2" id="__nav_3_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Macro Based Exercises
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_4_2">
            <span class="md-nav__icon md-icon"></span>
            Macro Based Exercises
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_2_1" checked>
        
          
          <label class="md-nav__link" for="__nav_3_4_2_1" id="__nav_3_4_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Quick Docs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_4_2_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_4_2_1">
            <span class="md-nav__icon md-icon"></span>
            Quick Docs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rxp_exe_Quick_Docs_PT1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Part 1 - Start Simple <sup><sup>rxe-m1</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Part 2 - Optimize<sup><sup>rxe-m2</sup></sup>
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Part 2 - Optimize<sup><sup>rxe-m2</sup></sup>
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#section-rxe-m1-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Section rxe-m1 Requirements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#part-2-solution-outline" class="md-nav__link">
    <span class="md-ellipsis">
      Part 2 Solution Outline
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementing-imports-and-exports-rxe-m21" class="md-nav__link">
    <span class="md-ellipsis">
      Implementing imports and exports (rxe-m2.1)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automating-the-userinterface-rxe-m22" class="md-nav__link">
    <span class="md-ellipsis">
      Automating the UserInterface (rxe-m2.2)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#centralize-your-document-list-rxe-m23" class="md-nav__link">
    <span class="md-ellipsis">
      Centralize your Document List (rxe-m2.3)
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4">
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Deployment&nbsp;<i class="fa-solid fa-cloud-arrow-up" style="color: #ff0000;"></i>
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Deployment&nbsp;<i class="fa-solid fa-cloud-arrow-up" style="color: #ff0000;"></i>
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Deployment/dep_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployment Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Deployment/dep_prerequisites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployment Lab Prerequisites
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3">
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Control Hub
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Control Hub
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Deployment/dep_controlHub/dep_controlHub_prepDevices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Preparing Your Devices <sup><sup>dep-1.1</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Deployment/dep_controlHub/dep_controlHub_configTemplates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration Templates <sup><sup>dep-1.2</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Deployment/dep_controlHub/dep_controlHub_orgTemplates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Org-Wide Templates <sup><sup>dep-1.3</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Deployment/dep_controlHub/dep_controlHub_runCommands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Run Commands <sup><sup>dep-1.4</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Deployment/dep_controlHub/dep_controlHub_deployExtensions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deploy UI Extensions <sup><sup>dep-1.5</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Deployment/dep_controlHub/dep_controlHub_deployMacros/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deploy Macros <sup><sup>dep-1.6</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4">
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    CE-Deploy
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            CE-Deploy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Deployment/dep_ceDeploy/dep_ceDeploy_cloud_localVsCloud/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Local vs Cloud Auth <sup><sup>dep-2.1</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Deployment/dep_ceDeploy/dep_ceDeploy_cloud_downloadToken/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Download Webex Token <sup><sup>dep-2.2</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Deployment/dep_ceDeploy/dep_ceDeploy_cloud_runCommands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Run Commands <sup><sup>dep-2.3</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Deployment/dep_ceDeploy/dep_ceDeploy_cloud_deployBranding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Branding <sup><sup>dep-2.4</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Deployment/dep_ceDeploy/dep_ceDeploy_cloud_deployMacros/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Macros <sup><sup>dep-2.5</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Deployment/dep_ceDeploy/dep_ceDeploy_cloud_deployExtensions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UI Extensions <sup><sup>dep-2.6</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Deployment/dep_ceDeploy/dep_ceDeploy_cloud_deployLocalUsers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Local User Accounts <sup><sup>dep-2.7</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Deployment/dep_ceDeploy/dep_ceDeploy_cloud_backupsAndLogs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Device Backups and Logs <sup><sup>dep-2.8</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Deployment/dep_ceDeploy/dep_ceDeploy_cloud_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tools <sup><sup>dep-2.9</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Deployment/dep_ceDeploy/dep_ceDeploy_cloud_dashboards/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dashboards <sup><sup>dep-2.10</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Deployment/dep_conclusion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployment Conclusion
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Resources/res_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tools&nbsp;<i class="fa-solid fa-gear"></i>
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6">
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Resources&nbsp;<i class="fa-solid fa-globe" style="color:#ffd903;"></i>
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Resources&nbsp;<i class="fa-solid fa-globe" style="color:#ffd903;"></i>
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Resources/res_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tools&nbsp;<i class="fa-solid fa-gear"></i>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Resources/res_guides/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Guides
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../Resources/res_communities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Communities
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="quick-docs-macro-exercise-part-2-optimize-section-rxe-m2">Quick Docs Macro Exercise - Part 2 - Optimize <sub>(section rxe-m2)</sub></h1>
<h2 id="section-rxe-m1-requirements">Section rxe-m1 Requirements</h2>
<div class="admonition important">
<div class="admonition note inline end">
<p class="admonition-title">Note</p>
<p>This lab assumes you have access to a Cisco RoomOS Device that is already setup and ready for use. If your device is not registered and online, please do so before beginning</p>
</div>
<p><strong>Additional Lessons</strong></p>
<ul>
<li>It's recommended you have run through Accessing RoomOS xAPI via Macros in Macros rxp-6 at a minimum before proceeding with this Exercise</li>
<li>Complete Quick Docs Part 1 <sup>rxe-m1</sup> before proceeding</li>
</ul>
<p><strong>Hardware</strong></p>
<ul>
<li>A Laptop</li>
<li>A Cisco Desk, Board or Room Series Device running the most recent On Premise or Cloud Stable software<ul>
<li>A Touch Controller is required when working on a Room Series Device. Either Room navigator or 3rd part touch display</li>
<li>Preferred Device: Cisco Desk Pro</li>
</ul>
</li>
<li>A minimum of 1 camera (Either Integrated or External)</li>
</ul>
<p><strong>Software</strong></p>
<ul>
<li>Laptop<ul>
<li>Recommended Browser: Chrome or Firefox</li>
<li>Recommended Terminal Software:<ul>
<li>Command Prompt (Windows)</li>
<li>Terminal (MAC)</li>
<li><a href="https://apps.microsoft.com/detail/xpfnzksklbp7rj?hl=en-US&amp;gl=US">Putty</a> (Windows)</li>
<li><a href="https://termius.com/">Termius</a> (Windows, MAC, Linux)</li>
</ul>
</li>
</ul>
</li>
<li>RoomOS Device<ul>
<li>Either the current On Premise or Cloud Stable release</li>
</ul>
</li>
</ul>
<p><strong>Network</strong></p>
<ul>
<li>Local Access to the RoomOS Device over port 80/443</li>
<li>General access to the Internet</li>
</ul>
</div>
<h2 id="part-2-solution-outline">Part 2 Solution Outline</h2>
<div class="admonition abstract">
<div class="admonition example">
<p class="admonition-title">Note</p>
<p>In Quick Docs Part 1 <sup>rxe-m1</sup>, we built a complete solution, but the information we wrote into the solution is hardcoded in the Macro. This means every time we want to make a change, we then have to update the macro on all X devices we manage.</p>
<p>In Quick Docs Part 2 <sup>rxe-m2</sup> of this lab, we'll expand our quick docs solution that enables use new ways to centralize and scale our solution across our device portfolio.</p>
<p>This may be fine for a small number of rooms, but should you have a few hundred or thousand rooms, we'll want to leverage what we can simplify our workload</p>
<p>We also may not want to allow this Macro to be edited by our content creators as they may be unfamiliar with the environment and could incur larger changes to the macro's operation. This could lead to additional support time for you but we don't want to have to be the sole curator of the content. To tackle this, we'll host an additional manifest file with Document references that we can share with our content creators and edit our macro on the fly based on that nee external resource.</p>
<p>These 2 changes are great, but introduces a problem; we hard coded our <abbr title="User Interface">UI</abbr> too. Luckily, by making clever use of the Panel Save command, we can generate this <abbr title="User Interface">UI</abbr> as new information enters the Macro</p>
</div>
<div class="admonition abstract">
<p class="admonition-title">Outline</p>
<p>In Quick Docs Part 2 <sup>rxe-m2</sup> we'll:</p>
<ul>
<li>Re-organize our macro to improve readability</li>
<li>Modify our Macro to fetch a new list of documents on the network</li>
<li>Maintain Backwards compatibility by allowing hard coded docs to continue to live on the device</li>
<li>Good for local super users, who may need special documents on a per room basis</li>
<li>Automate the UserInterface so we can spawn all new buttons based on this new information</li>
</ul>
</div>
</div>
<h2 id="implementing-imports-and-exports-rxe-m21">Implementing imports and exports <sub>(rxe-m2.1)</sub></h2>
<details class="lesson" open="open">
<summary>Lesson: Create another Macro <sub>(rxe-m2.1.1)</sub></summary>
<ul>
<li>
<p><strong>Task</strong>:</p>
<ul>
<li>Select <mark>Create new macro</mark> in the Macro Editor</li>
<li>Name this macro <mark>Room Docs Configuration</mark></li>
<li><ins class="critic">Save</ins> and keep the <mark>Room Docs Configuration</mark> Macro <ins class="critic">Inactive</ins></li>
</ul>
</li>
</ul>
<details class="gif">
<summary>Review how to Create and Save a Macro</summary>
<p></p><figure markdown="span">
    <a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../../images/3-4_CreateMacro.gif" data-title="Create, Save and Activate a Macro" data-desc-position="top"><img alt="Create, Save and Activate a Macro" src="../../images/3-4_CreateMacro.gif" width="600"></a>
    <figcaption>Create, Save and Activate a Macro</figcaption>
</figure><p></p>
</details>
</details>
<details class="lesson">
<summary>Lesson: Establish a Config Object <sub>(rxe-m2.1.2)</sub></summary>
<ul>
<li>
<p><strong>xAPI</strong>: N/A</p>
</li>
<li>
<p><strong>Task</strong>:</p>
<ul>
<li>
<p>Select the <mark>Room Docs Configuration</mark> Macro and perform the next few tasks in this Macro</p>
</li>
<li>
<p>Remove <code>import xapi from 'xapi';</code> from the <mark>Room Docs Configuration</mark> Macro</p>
</li>
<li>
<p>Copy the <code>config</code> object outlined below and paste this into the <mark>Room Docs Configuration</mark> Macro</p>
</li>
</ul>
<div class="highlight"><span class="filename">Copy this `config` Object</span><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">manifestVisibility</span><span class="o">:</span><span class="w"> </span><span class="s1">'merge'</span><span class="p">,</span><span class="w"> </span><span class="c1">// localOnly, remoteOnly, merge</span>
<span class="w">  </span><span class="nx">remoteSiteManifest</span><span class="o">:</span><span class="w"> </span><span class="s1">''</span><span class="p">,</span>
<span class="w">  </span><span class="nx">localSiteManifest</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Name</span><span class="o">:</span><span class="w"> </span><span class="s1">'Lab 1451'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="s1">'https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_3/'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">QrEnabled</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Name</span><span class="o">:</span><span class="w"> </span><span class="s1">'Reimagine Workspaces'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="s1">'https://www.webex.com/us/en/workspaces.html'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">QrEnabled</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">};</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Config:'</span><span class="p">,</span><span class="w"> </span><span class="nx">config</span><span class="p">);</span>
</code></pre></div>
<ul>
<li>
<p>Once complete, <mark>Save</mark>, and activate this macro</p>
</li>
<li>
<p>Look at the Macro Console, you should see the contents of the config object print to the console.</p>
</li>
</ul>
<details class="success">
<summary>Compare your <code>Room Docs Configuration</code> Macro</summary>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">manifestVisibility</span><span class="o">:</span><span class="w"> </span><span class="s1">'merge'</span><span class="p">,</span><span class="w"> </span><span class="c1">// localOnly, remoteOnly, merge</span>
<span class="w">  </span><span class="nx">remoteSiteManifest</span><span class="o">:</span><span class="w"> </span><span class="s1">''</span><span class="p">,</span>
<span class="w">  </span><span class="nx">localSiteManifest</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Name</span><span class="o">:</span><span class="w"> </span><span class="s1">'Lab 1451'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="s1">''</span><span class="p">,</span>
<span class="w">      </span><span class="nx">QrEnabled</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Name</span><span class="o">:</span><span class="w"> </span><span class="s1">'Reimagine Workspaces'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="s1">''</span><span class="p">,</span>
<span class="w">      </span><span class="nx">QrEnabled</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">};</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Config:'</span><span class="p">,</span><span class="w"> </span><span class="nx">config</span><span class="p">);</span>
</code></pre></div>
</details>
</li>
</ul>
</details>
<details class="lesson">
<summary>Lesson: Export your Config Object <sub>(rxe-m2.1.3)</sub></summary>
<p>Now that we've established a config in our new <code>Room Docs Configuration</code> macro, in order to make use of it in any other macros on the device, we'll need to export it</p>
<ul>
<li>
<p><strong>Task</strong>: </p>
<ul>
<li>Below the <code>console.log('Config:', config);</code> in the <mark>Room Docs Configuration</mark> Macro add the following code</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="p">};</span>
</code></pre></div>
<ul>
<li>
<p>Once complete, <mark>Save</mark> your macro.</p>
</li>
<li>
<p>Look at the Macro Console, you should still see the contents of the config object print to the console.</p>
</li>
</ul>
<details class="success">
<summary>Compare your <code>Room Docs Configuration</code> Macro</summary>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">manifestVisibility</span><span class="o">:</span><span class="w"> </span><span class="s1">'merge'</span><span class="p">,</span><span class="w"> </span><span class="c1">// localOnly, remoteOnly, merge</span>
<span class="w">  </span><span class="nx">remoteSiteManifest</span><span class="o">:</span><span class="w"> </span><span class="s1">''</span><span class="p">,</span>
<span class="w">  </span><span class="nx">localSiteManifest</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Name</span><span class="o">:</span><span class="w"> </span><span class="s1">'Lab 1451'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="s1">''</span><span class="p">,</span>
<span class="w">      </span><span class="nx">QrEnabled</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Name</span><span class="o">:</span><span class="w"> </span><span class="s1">'Reimagine Workspaces'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="s1">''</span><span class="p">,</span>
<span class="w">      </span><span class="nx">QrEnabled</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">};</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Config:'</span><span class="p">,</span><span class="w"> </span><span class="nx">config</span><span class="p">);</span>

<span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="p">};</span>
</code></pre></div>
</details>
</li>
</ul>
</details>
<details class="lesson">
<summary>Lesson: Import your Config Object <sub>(rxe-m2.1.4)</sub></summary>
<p>With the config object now being exported in your Macro Editor, it's now accessible to any other macro running on the device.</p>
<ul>
<li>
<p><strong>xAPI</strong>: N/A</p>
</li>
<li>
<p><strong>Task</strong>:</p>
<ul>
<li>
<p>Select the <mark>Room Docs</mark> Macro and perform the next few tasks in this Macro</p>
</li>
<li>
<p>Below <code>import xapi from 'xapi';</code> add the following</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'./Room Docs Configuration'</span><span class="p">;</span>
</code></pre></div>
<ul>
<li>add a new line and add</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Imported Config:'</span><span class="p">,</span><span class="w"> </span><span class="nx">config</span><span class="p">);</span>
</code></pre></div>
<ul>
<li>
<p>Once complete, <mark>Save</mark> and Activate the <mark>Room Docs</mark> Macro (if inactive)</p>
</li>
<li>
<p>Monitor your log output</p>
<ul>
<li>You should now see 2 instances of the config object print to the console</li>
<li>This illustrates how both macros are accessing the same object and can perform separate tasks using the same information</li>
</ul>
</li>
<li>However, it's not necessary to have both macros running now. At this time, deactivate the <mark>Room Docs Configuration</mark> macro</li>
</ul>
</li>
</ul>
<details class="curious">
<summary>Why deactivate the Room Docs Configuration Macro?</summary>
<details class="danger inline end">
<summary> 2mb of Storage?!?!?</summary>
<p>Not to worry, 2mb may sound small, but this is the storage for the text contained within your macro, and you can store ALOT of tex in 2mb</p>
<p>It will take you time to max this out, but should you it may be time for you to help us proctor this lab <img alt="" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f603.svg" title=":smiley:"></p>
</details>
<p>The Macro Editor can only support 10 active macros at a time per device, however it can support any number of inactive macros so long as long as you haven't exceeded the 2mb of storage for Macro Code.</p>
<p>So, by disabling the Room Docs Configuration macro, we free up an active macro slot for our device, and we'll still be able to access this information.</p>
<p>Now, this doesn't mean you couldn't have a solution with 2 macros running and still use exporting/importing information. In our case, our Room Docs Configuration macro is only serving as a library of information and not executing any tasks for use, so best to leave off as to not waste an active macro slot.</p>
</details>
<details class="success">
<summary>Compare your <code>Room Docs</code> Macro</summary>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'./Room Docs Configuration'</span><span class="p">;</span><span class="w"> </span><span class="c1">// &lt;-- Imports should always be on the top level</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Config:'</span><span class="p">,</span><span class="w"> </span><span class="nx">config</span><span class="p">);</span><span class="w"> </span><span class="c1">// &lt;-- Log the config object here</span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">openSite</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="w"> </span><span class="nx">target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'OSD'</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">openPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">WebView</span><span class="p">.</span><span class="nx">Display</span><span class="p">({</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="nx">url</span><span class="p">,</span>
<span class="w">      </span><span class="nx">Target</span><span class="o">:</span><span class="w"> </span><span class="nx">target</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Site Webview Opened for: [</span><span class="si">${</span><span class="nx">url</span><span class="si">}</span><span class="sb">]`</span><span class="p">,</span><span class="w"> </span><span class="nx">openPage</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Context</span><span class="o">:</span><span class="w"> </span><span class="sb">`Failed to open Site WebView to: [</span><span class="si">${</span><span class="nx">url</span><span class="si">}</span><span class="sb">]`</span><span class="p">,</span>
<span class="w">      </span><span class="p">...</span><span class="nx">e</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">openQrCode</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="w"> </span><span class="nx">target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'OSD'</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">encodedUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">encodeURI</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">qrURL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`https://api.qrserver.com/v1/create-qr-code/?data=`</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">encodedUrl</span><span class="p">;</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">openPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">WebView</span><span class="p">.</span><span class="nx">Display</span><span class="p">({</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="nx">qrURL</span><span class="p">,</span>
<span class="w">      </span><span class="nx">Target</span><span class="o">:</span><span class="w"> </span><span class="nx">target</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`QR Webview Opened for: [</span><span class="si">${</span><span class="nx">url</span><span class="si">}</span><span class="sb">]`</span><span class="p">,</span><span class="w"> </span><span class="nx">openPage</span><span class="p">,</span><span class="w"> </span><span class="nx">qrURL</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Context</span><span class="o">:</span><span class="w"> </span><span class="sb">`Failed to open QR WebView to: [</span><span class="si">${</span><span class="nx">url</span><span class="si">}</span><span class="sb">]`</span><span class="p">,</span>
<span class="w">      </span><span class="nx">QrUrl</span><span class="o">:</span><span class="w"> </span><span class="nx">qrURL</span><span class="p">,</span>
<span class="w">      </span><span class="p">...</span><span class="nx">e</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="nx">xapi</span><span class="p">.</span><span class="nx">Event</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">Extensions</span><span class="p">.</span><span class="nx">Widget</span><span class="p">.</span><span class="nx">Action</span><span class="p">.</span><span class="nx">on</span><span class="p">(({</span><span class="w"> </span><span class="nx">WidgetId</span><span class="p">,</span><span class="w"> </span><span class="nx">Type</span><span class="p">,</span><span class="w"> </span><span class="nx">Value</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">debug</span><span class="p">({</span><span class="w"> </span><span class="nx">WidgetId</span><span class="p">,</span><span class="w"> </span><span class="nx">Type</span><span class="p">,</span><span class="w"> </span><span class="nx">Value</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">WidgetId</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="sb">`wx1_QrDocs`</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">Type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'released'</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">app</span><span class="p">,</span><span class="w"> </span><span class="nx">action</span><span class="p">,</span><span class="w"> </span><span class="nx">url</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">WidgetId</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="sb">`~`</span><span class="p">);</span>

<span class="w">      </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s1">'OpenSite'</span><span class="o">:</span>
<span class="w">          </span><span class="nx">openSite</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
<span class="w">          </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s1">'OpenQrCode'</span><span class="o">:</span>
<span class="w">          </span><span class="nx">openQrCode</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
<span class="w">          </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="k">default</span><span class="o">:</span>
<span class="w">          </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="sb">`Unknown Action Fired: [</span><span class="si">${</span><span class="nx">action</span><span class="si">}</span><span class="sb">]`</span><span class="p">);</span>
<span class="w">          </span><span class="k">break</span><span class="p">;</span>
<span class="w">      </span><span class="p">};</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">});</span>
</code></pre></div>
</details>
<details class="success">
<summary>Compare your Macro Console</summary>
<table>
<thead>
<tr>
<th>Time</th>
<th>App</th>
<th>Logs</th>
</tr>
</thead>
<tbody>
<tr>
<td>HH:MM:SS</td>
<td>Room Docs</td>
<td>QJS Ready</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>Room Docs</td>
<td>Config: {"manifestVisibility":"localOnly","remoteSiteManifest":"","localSiteManifest":[{"Name":"Lab 1451","Url":"","QrEnabled":false},{"Name":"Reimagine Workspaces","Url":"","QrEnabled":true}]}</td>
</tr>
</tbody>
</table>
</details>
</details>
<hr>
<hr>
<h2 id="automating-the-userinterface-rxe-m22">Automating the UserInterface <sub>(rxe-m2.2)</sub></h2>
<div class="admonition abstract">
<p class="admonition-title">Abstract</p>
<p>Now that we have a config object established and it's accessible in our Room Docs macro, we can iterate over this config object and build the UserInterface dynamically. We can use a combination of the Device xAPI and some string manipulation techniques available in ES6 JS to form a new <abbr title="Extensible Markup Language">XML</abbr> payload which we can load in as soon as the script starts</p>
</div>
<details class="lesson" open="open">
<summary>Lesson: Download our current UserInterface <abbr title="Extensible Markup Language">XML</abbr> <sub>(rxe-m2.2.1)</sub></summary>
<div class="admonition example">
<p class="admonition-title">Click on the Tabs Below to learn how to download the <abbr title="User Interface">UI</abbr> <abbr title="Extensible Markup Language">XML</abbr></p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:4"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio"><input id="__tabbed_1_2" name="__tabbed_1" type="radio"><input id="__tabbed_1_3" name="__tabbed_1" type="radio"><input id="__tabbed_1_4" name="__tabbed_1" type="radio"><div class="tabbed-labels"><label for="__tabbed_1_1">Device Home</label><label for="__tabbed_1_2"><abbr title="User Interface">UI</abbr> Extensions Editor</label><label for="__tabbed_1_3">Download Options</label><label for="__tabbed_1_4">Download Operation</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li>Select the <abbr title="User Interface">UI</abbr> Extensions Editor on the Left-Hand Navigation Bar</li>
</ul>
<p></p><figure markdown="span">
    <a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../../images/3-2_DeviceHome.png" data-title="Device Home" data-desc-position="top"><img alt="Device Home" src="../../images/3-2_DeviceHome.png" width="600"></a>
    <figcaption>Device Home Page</figcaption>
</figure><p></p>
</div>
<div class="tabbed-block">
<ul>
<li>The Options to download the <abbr title="User Interface">UI</abbr> Extension Panel is in the Extensions ToolBar</li>
</ul>
<p></p><figure markdown="span">
    <a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../../images/3-2_UI_Editor.png" data-title="UI Extensions Editor" data-desc-position="top"><img alt="UI Extensions Editor" src="../../images/3-2_UI_Editor.png" width="600"></a>
    <figcaption><abbr title="User Interface">UI</abbr> Extensions Editor</figcaption>
</figure><p></p>
</div>
<div class="tabbed-block">
<ul>
<li>Select the Room Docs Panel</li>
<li>Select the Editor Menu ("Pancake" icon) in the Extensions Toolbar</li>
<li>Select <mark>Export current panel to file</mark></li>
</ul>
<p></p><figure markdown="span">
    <a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../../images/3-4_UI_Download.png" data-title="UI Extensions ToolBar Expanded" data-desc-position="top"><img alt="UI Extensions ToolBar Expanded" src="../../images/3-4_UI_Download.png" width="600"></a>
    <figcaption><abbr title="User Interface">UI</abbr> Extensions ToolBar Expanded</figcaption>
</figure><p></p>
</div>
<div class="tabbed-block">
<ul>
<li><abbr title="User Interface">UI</abbr> Extensions Downloads come with the name <hl_0>roomcontrolconfig&nbsp;-&nbsp;0000-00-00T00:00:00.000.xml</hl_0></li>
<li>The Most Recent Timestamp is the one you just downloaded</li>
</ul>
<p></p><figure markdown="span">
    <a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../../images/3-4_UI_Download_Operation.gif" data-title="UI Extensions Download Operation" data-desc-position="top"><img alt="UI Extensions Download Operation" src="../../images/3-4_UI_Download_Operation.gif" width="600"></a>
    <figcaption><abbr title="User Interface">UI</abbr> Extensions Download Operation</figcaption>
</figure><p></p>
</div>
</div>
</div>
</div>
<ul>
<li>
<p><strong>xAPI</strong>: N/A</p>
</li>
<li>
<p><strong>Task</strong>:</p>
<ul>
<li>
<p>Open the <hl_0>roomcontrolconfig&nbsp;-&nbsp;0000-00-00T00:00:00.000.xml</hl_0> file</p>
<ul>
<li>Use Notepad for Windows</li>
<li>Use TextEdit for MAC</li>
</ul>
</li>
<li>
<p>Review the contents of your <abbr title="User Interface">UI</abbr> Extension's <abbr title="Extensible Markup Language">XML</abbr></p>
</li>
<li>We'll be taking parts of this <abbr title="Extensible Markup Language">XML</abbr> in the next lesson, and re-structuring it based on our <code>config</code> object</li>
</ul>
</li>
</ul>
</details>
<details class="lesson">
<summary>Lesson: Add a <code>buildUI()</code> function to the <mark>Room Docs</mark> Macro  <sub>(rxe-m2.2.2)</sub></summary>
<ul>
<li>
<p><strong>xAPI</strong>: xCommand UserInterface Extensions Panel Save</p>
</li>
<li>
<p><strong>Task</strong>:</p>
<ul>
<li>
<p>Declare a new async function called <mark>buildUI</mark> without function parameters</p>
</li>
<li>
<p>Within this function:</p>
<ul>
<li>Declare a <code>rows</code> object with a value of <code>''</code> (Yes, no value assigned)</li>
<li>Use ES6 JS's <mark>forEach</mark> prototype to loop through <code>config.localSiteManifest</code> Array
    <div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">rows</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="p">;</span>

<span class="nx">config</span><span class="p">.</span><span class="nx">localSiteManifest</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">site</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Appending [</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">Name</span><span class="si">}</span><span class="sb">] Site to UI`</span><span class="p">);</span>
<span class="w">  </span><span class="nx">rows</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">rows</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="sb">`&lt;Row&gt;</span>
<span class="sb">                  &lt;Name&gt;</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">Name</span><span class="si">}</span><span class="sb">&lt;/Name&gt;</span>
<span class="sb">                  &lt;Widget&gt;</span>
<span class="sb">                    &lt;WidgetId&gt;wx1_QrDocs~OpenSite~</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">Url</span><span class="si">}</span><span class="sb">&lt;/WidgetId&gt;</span>
<span class="sb">                    &lt;Name&gt;Open Site&lt;/Name&gt;</span>
<span class="sb">                    &lt;Type&gt;Button&lt;/Type&gt;</span>
<span class="sb">                    &lt;Options&gt;size=</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">QrEnabled</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">4</span><span class="si">}</span><span class="sb">&lt;/Options&gt;</span>
<span class="sb">                  &lt;/Widget&gt;</span>
<span class="sb">                  </span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">QrEnabled</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="sb">`&lt;Widget&gt;</span>
<span class="sb">                    &lt;WidgetId&gt;wx1_QrDocs~OpenQrCode~</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">Url</span><span class="si">}</span><span class="sb">&lt;/WidgetId&gt;</span>
<span class="sb">                    &lt;Name&gt;Open QrCode &lt;/Name&gt;</span>
<span class="sb">                    &lt;Type&gt;Button&lt;/Type&gt;</span>
<span class="sb">                    &lt;Options&gt;size=2&lt;/Options&gt;</span>
<span class="sb">                  &lt;/Widget&gt;`</span><span class="o">:</span><span class="w"> </span><span class="s1">''</span><span class="si">}</span>
<span class="sb">                &lt;/Row&gt;`</span>
<span class="p">})</span>
</code></pre></div></li>
</ul>
<details class="curious">
<summary>Ok, what's going above???</summary>
<p>It's alot to unpack, I know, but it's just too cool to NOT show you <img alt="" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f913.svg" title=":nerd_face:"></p>
<p>In the <hl_0>roomcontrolconfig&nbsp;-&nbsp;0000-00-00T00:00:00.000.xml</hl_0> file we found one of our rows of sites we built out in the <abbr title="User Interface">UI</abbr> Extensions Editor</p>
<p>We took a Row, which is surrounded by <hl_7><code>&lt;Row&gt;[More Row Content]&lt;/Row&gt;</code></hl_7> <abbr title="Extensible Markup Language">XML</abbr> tags that matched our Site information</p>
<p>We then declared a new <hl_6>rows</hl_6> object and looped through it using the <code>forEach()</code> ES6 JS prototype</p>
<p>In this loop, we accessed the properties of each site, that was configured in the <hl_4>config</hl_4> object under the <hl_4>localSiteManifest</hl_4> Array and as the for the <code>forEach()</code> prototype did cycled through each new doc, we took the Name and <abbr title="Uniform Resource Locator">URL</abbr> values and injected them into the correct locations within the <abbr title="Extensible Markup Language">XML</abbr> structure. </p>
<p>We do this by referencing the <hl_4>config</hl_4> and making use of ES6 JS's Template Literal feature to place the data as well as leveraging ES6 JS's Conditional Operator to check if the QrEnabled value is set to true</p>
<p>Each time the <code>forEach()</code> prototype loops, it takes the <hl_6>rows</hl_6> object and concatenates another row of information and will do so for each site defined in the <hl_4>localSiteManifest</hl_4> Array</p>
<p></p><div style="display: flex; gap: 10px;">
    <a class="md-button md-button--primary" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" target="_blank">
      Learn more about the <code>.forEach()</code> prototype <i class="fa-solid fa-square-up-right"></i>
    </a>
    <a class="md-button md-button--primary" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">
      Learn more about <code>Arrays</code> <i class="fa-solid fa-square-up-right"></i>
    </a>
    <a class="md-button md-button--primary" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals" target="_blank">
      Learn more about <code>Template Literals</code> <i class="fa-solid fa-square-up-right"></i>
    </a>
    <a class="md-button md-button--primary" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_operator" target="_blank">
      Learn more about <code>Conditional Operators</code> <i class="fa-solid fa-square-up-right"></i>
    </a>
    <a class="md-button md-button--primary" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Addition" target="_blank">
      Learn more about <code>Concatenation</code> using the <code>+</code> operator <i class="fa-solid fa-square-up-right"></i>
    </a>
</div><p></p>
</details>
<ul>
<li>In your <hl_0>roomcontrolconfig&nbsp;-&nbsp;0000-00-00T00:00:00.000.xml</hl_0> make the following changes</li>
</ul>
<div class="admonition example">
<div class="tabbed-set tabbed-alternate" data-tabs="2:4"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio"><input id="__tabbed_2_2" name="__tabbed_2" type="radio"><input id="__tabbed_2_3" name="__tabbed_2" type="radio"><input id="__tabbed_2_4" name="__tabbed_2" type="radio"><div class="tabbed-labels"><label for="__tabbed_2_1">Remove Version Tag and Content</label><label for="__tabbed_2_2">Remove PanelId</label><label for="__tabbed_2_3">Replace All Site Rows</label><label for="__tabbed_2_4">View Fully Edited <abbr title="Extensible Markup Language">XML</abbr></label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li>This allows the Codec to assign an <abbr title="Extensible Markup Language">XML</abbr> version and avoid conflicts</li>
</ul>
<div class="highlight"><span class="filename">Remove ME</span><pre><span></span><code><span class="nt">&lt;Version&gt;</span>1.11<span class="nt">&lt;/Version&gt;</span><span class="w"> </span>
</code></pre></div>
</div>
<div class="tabbed-block">
<ul>
<li>The PanelId is provided as apart of the Panel Save command, so having a mismatch could be problematic</li>
<li>Removing this tag prevents the chance of a mismatch and allows the Codec to assign the PanelId based on the command execution</li>
</ul>
<div class="highlight"><span class="filename">Remove ME</span><pre><span></span><code><span class="nt">&lt;PanelId&gt;</span>wx1_QrDocs<span class="nt">&lt;/PanelId&gt;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<ul>
<li>replace All site rows with <code>${rows}</code>, which is out object where we instantiated our new row information based on our <code>config</code> object</li>
</ul>
<div class="highlight"><span class="filename">Replace ME with ${rows}</span><pre><span></span><code><span class="nt">&lt;Row&gt;</span>
<span class="w">  </span><span class="nt">&lt;Name&gt;</span>Lab<span class="w"> </span>1451<span class="nt">&lt;/Name&gt;</span>
<span class="w">  </span><span class="nt">&lt;Widget&gt;</span>
<span class="w">    </span><span class="nt">&lt;WidgetId&gt;</span>wx1_QrDocs~OpenSite~https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_3/<span class="nt">&lt;/WidgetId&gt;</span>
<span class="w">    </span><span class="nt">&lt;Name&gt;</span>Open<span class="w"> </span>Site<span class="nt">&lt;/Name&gt;</span>
<span class="w">    </span><span class="nt">&lt;Type&gt;</span>Button<span class="nt">&lt;/Type&gt;</span>
<span class="w">    </span><span class="nt">&lt;Options&gt;</span>size=2<span class="nt">&lt;/Options&gt;</span>
<span class="w">  </span><span class="nt">&lt;/Widget&gt;</span>
<span class="w">  </span><span class="nt">&lt;Widget&gt;</span>
<span class="w">    </span><span class="nt">&lt;WidgetId&gt;</span>wx1_QrDocs~OpenQrCode~https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_3/<span class="nt">&lt;/WidgetId&gt;</span>
<span class="w">    </span><span class="nt">&lt;Name&gt;</span>Open<span class="w"> </span>QrCode<span class="w"> </span><span class="nt">&lt;/Name&gt;</span>
<span class="w">    </span><span class="nt">&lt;Type&gt;</span>Button<span class="nt">&lt;/Type&gt;</span>
<span class="w">    </span><span class="nt">&lt;Options&gt;</span>size=2<span class="nt">&lt;/Options&gt;</span>
<span class="w">  </span><span class="nt">&lt;/Widget&gt;</span>
<span class="nt">&lt;/Row&gt;</span>
<span class="nt">&lt;Row&gt;</span>
<span class="w">  </span><span class="nt">&lt;Name&gt;</span>Reimagine<span class="w"> </span>Workspaces<span class="nt">&lt;/Name&gt;</span>
<span class="w">  </span><span class="nt">&lt;Widget&gt;</span>
<span class="w">    </span><span class="nt">&lt;WidgetId&gt;</span>wx1_QrDocs~OpenSite~https://www.webex.com/us/en/workspaces.html<span class="nt">&lt;/WidgetId&gt;</span>
<span class="w">    </span><span class="nt">&lt;Name&gt;</span>Open<span class="w"> </span>Site<span class="nt">&lt;/Name&gt;</span>
<span class="w">    </span><span class="nt">&lt;Type&gt;</span>Button<span class="nt">&lt;/Type&gt;</span>
<span class="w">    </span><span class="nt">&lt;Options&gt;</span>size=2<span class="nt">&lt;/Options&gt;</span>
<span class="w">  </span><span class="nt">&lt;/Widget&gt;</span>
<span class="w">  </span><span class="nt">&lt;Widget&gt;</span>
<span class="w">    </span><span class="nt">&lt;WidgetId&gt;</span>wx1_QrDocs~OpenQrCode~https://www.webex.com/us/en/workspaces.html<span class="nt">&lt;/WidgetId&gt;</span>
<span class="w">    </span><span class="nt">&lt;Name&gt;</span>Open<span class="w"> </span>QrCode<span class="w"> </span><span class="nt">&lt;/Name&gt;</span>
<span class="w">    </span><span class="nt">&lt;Type&gt;</span>Button<span class="nt">&lt;/Type&gt;</span>
<span class="w">    </span><span class="nt">&lt;Options&gt;</span>size=2<span class="nt">&lt;/Options&gt;</span>
<span class="w">  </span><span class="nt">&lt;/Widget&gt;</span>
<span class="nt">&lt;/Row&gt;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><span class="filename">Should look something like...</span><pre><span></span><code><span class="nt">&lt;Extensions&gt;</span>
<span class="w">  </span><span class="nt">&lt;Panel&gt;</span>
<span class="w">    </span><span class="nt">&lt;Order&gt;</span>1<span class="nt">&lt;/Order&gt;</span>
<span class="w">    </span><span class="nt">&lt;Origin&gt;</span>local<span class="nt">&lt;/Origin&gt;</span>
<span class="w">    </span><span class="nt">&lt;Location&gt;</span>HomeScreenAndCallControls<span class="nt">&lt;/Location&gt;</span>
<span class="w">    </span><span class="nt">&lt;Icon&gt;</span>Language<span class="nt">&lt;/Icon&gt;</span>
<span class="w">    </span><span class="nt">&lt;Color&gt;</span>#875AE0<span class="nt">&lt;/Color&gt;</span>
<span class="w">    </span><span class="nt">&lt;Name&gt;</span>Room<span class="w"> </span>Docs<span class="nt">&lt;/Name&gt;</span>
<span class="w">    </span><span class="nt">&lt;ActivityType&gt;</span>Custom<span class="nt">&lt;/ActivityType&gt;</span>
<span class="w">    </span><span class="nt">&lt;Page&gt;</span>
<span class="w">      </span><span class="nt">&lt;Name&gt;</span>Room<span class="w"> </span>Docs<span class="nt">&lt;/Name&gt;</span>
<span class="w">      </span>${rows}
<span class="w">      </span><span class="nt">&lt;PageId&gt;</span>wx1_QrDocs~RoomDocs<span class="nt">&lt;/PageId&gt;</span>
<span class="w">      </span><span class="nt">&lt;Options/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/Page&gt;</span>
<span class="w">  </span><span class="nt">&lt;/Panel&gt;</span>
<span class="nt">&lt;/Extensions&gt;</span>
</code></pre></div>
</div>
</div>
</div>
</div>
<ul>
<li>
<p>Declare a new object called <code>xml</code> and assign it the value of your edited xml</p>
</li>
<li>
<p>Structure the xAPI reference above using Macro Syntax with the following parameters and values</p>
<ul>
<li>PanelId: wx1_QrDocs</li>
<li>body: <code>xml</code></li>
</ul>
</li>
<li>
<p>Place this xAPI call in a <code>try...catch</code> block and handle it's response and error appropriately</p>
</li>
<li>
<p>Then run this function after it has been defined</p>
</li>
<li>
<p>Once complete, <mark>Save</mark> and Activate the <mark>Room Docs</mark> Macro (if inactive)</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<details class="success">
<summary>View <code>buildUI()</code> function</summary>
<div class="highlight"><pre><span></span><code><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">buildUI</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">rows</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="p">;</span>

<span class="w">  </span><span class="nx">config</span><span class="p">.</span><span class="nx">localSiteManifest</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">site</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Appending [</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">Name</span><span class="si">}</span><span class="sb">] Site to UI`</span><span class="p">);</span>
<span class="w">    </span><span class="nx">rows</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">rows</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="sb">`&lt;Row&gt;</span>
<span class="sb">                    &lt;Name&gt;</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">Name</span><span class="si">}</span><span class="sb">&lt;/Name&gt;</span>
<span class="sb">                    &lt;Widget&gt;</span>
<span class="sb">                      &lt;WidgetId&gt;wx1_QrDocs~OpenSite~</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">Url</span><span class="si">}</span><span class="sb">&lt;/WidgetId&gt;</span>
<span class="sb">                      &lt;Name&gt;Open Site&lt;/Name&gt;</span>
<span class="sb">                      &lt;Type&gt;Button&lt;/Type&gt;</span>
<span class="sb">                      &lt;Options&gt;size=</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">QrEnabled</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">4</span><span class="si">}</span><span class="sb">&lt;/Options&gt;</span>
<span class="sb">                    &lt;/Widget&gt;</span>
<span class="sb">                    </span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">QrEnabled</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="sb">`&lt;Widget&gt;</span>
<span class="sb">                      &lt;WidgetId&gt;wx1_QrDocs~OpenQrCode~</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">Url</span><span class="si">}</span><span class="sb">&lt;/WidgetId&gt;</span>
<span class="sb">                      &lt;Name&gt;Open QrCode &lt;/Name&gt;</span>
<span class="sb">                      &lt;Type&gt;Button&lt;/Type&gt;</span>
<span class="sb">                      &lt;Options&gt;size=2&lt;/Options&gt;</span>
<span class="sb">                    &lt;/Widget&gt;`</span><span class="o">:</span><span class="w"> </span><span class="s1">''</span><span class="si">}</span>
<span class="sb">                  &lt;/Row&gt;`</span><span class="p">;</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">xml</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`&lt;Extensions&gt;</span>
<span class="sb">                &lt;Panel&gt;</span>
<span class="sb">                  &lt;Order&gt;1&lt;/Order&gt;</span>
<span class="sb">                  &lt;Origin&gt;local&lt;/Origin&gt;</span>
<span class="sb">                  &lt;Location&gt;HomeScreenAndCallControls&lt;/Location&gt;</span>
<span class="sb">                  &lt;Icon&gt;Language&lt;/Icon&gt;</span>
<span class="sb">                  &lt;Color&gt;#875AE0&lt;/Color&gt;</span>
<span class="sb">                  &lt;Name&gt;Room Docs&lt;/Name&gt;</span>
<span class="sb">                  &lt;ActivityType&gt;Custom&lt;/ActivityType&gt;</span>
<span class="sb">                  &lt;Page&gt;</span>
<span class="sb">                    &lt;Name&gt;Room Docs&lt;/Name&gt;</span>
<span class="sb">                    </span><span class="si">${</span><span class="nx">rows</span><span class="si">}</span>
<span class="sb">                    &lt;PageId&gt;wx1_QrDocs~RoomDocs&lt;/PageId&gt;</span>
<span class="sb">                    &lt;Options/&gt;</span>
<span class="sb">                  &lt;/Page&gt;</span>
<span class="sb">                &lt;/Panel&gt;</span>
<span class="sb">              &lt;/Extensions&gt;`</span><span class="p">;</span>

<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">build</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">Extensions</span><span class="p">.</span><span class="nx">Panel</span><span class="p">.</span><span class="nx">Save</span><span class="p">({</span>
<span class="w">      </span><span class="nx">PanelId</span><span class="o">:</span><span class="w"> </span><span class="s1">'wx1_QrDocs'</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="nx">xml</span><span class="p">);</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'UserInterface Built!'</span><span class="p">,</span><span class="w"> </span><span class="nx">build</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Context</span><span class="o">:</span><span class="w"> </span><span class="sb">`Failed to Build UserInterface`</span><span class="p">,</span>
<span class="w">      </span><span class="p">...</span><span class="nx">e</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">};</span>
</code></pre></div>
</details>
<details class="success">
<summary>Compare your <code>Room Docs</code> Macro</summary>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'./Room Docs Configuration'</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Config:'</span><span class="p">,</span><span class="w"> </span><span class="nx">config</span><span class="p">);</span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">openSite</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="w"> </span><span class="nx">target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'OSD'</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">openPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">WebView</span><span class="p">.</span><span class="nx">Display</span><span class="p">({</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="nx">url</span><span class="p">,</span>
<span class="w">      </span><span class="nx">Target</span><span class="o">:</span><span class="w"> </span><span class="nx">target</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Site Webview Opened for: [</span><span class="si">${</span><span class="nx">url</span><span class="si">}</span><span class="sb">]`</span><span class="p">,</span><span class="w"> </span><span class="nx">openPage</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Context</span><span class="o">:</span><span class="w"> </span><span class="sb">`Failed to open Site WebView to: [</span><span class="si">${</span><span class="nx">url</span><span class="si">}</span><span class="sb">]`</span><span class="p">,</span>
<span class="w">      </span><span class="p">...</span><span class="nx">e</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">openQrCode</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="w"> </span><span class="nx">target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'OSD'</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">encodedUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">encodeURI</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">qrURL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`https://api.qrserver.com/v1/create-qr-code/?data=`</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">encodedUrl</span><span class="p">;</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">openPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">WebView</span><span class="p">.</span><span class="nx">Display</span><span class="p">({</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="nx">qrURL</span><span class="p">,</span>
<span class="w">      </span><span class="nx">Target</span><span class="o">:</span><span class="w"> </span><span class="nx">target</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`QR Webview Opened for: [</span><span class="si">${</span><span class="nx">url</span><span class="si">}</span><span class="sb">]`</span><span class="p">,</span><span class="w"> </span><span class="nx">openPage</span><span class="p">,</span><span class="w"> </span><span class="nx">qrURL</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Context</span><span class="o">:</span><span class="w"> </span><span class="sb">`Failed to open QR WebView to: [</span><span class="si">${</span><span class="nx">url</span><span class="si">}</span><span class="sb">]`</span><span class="p">,</span>
<span class="w">      </span><span class="nx">QrUrl</span><span class="o">:</span><span class="w"> </span><span class="nx">qrURL</span><span class="p">,</span>
<span class="w">      </span><span class="p">...</span><span class="nx">e</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">buildUI</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// &lt;-- Declare and Define your buildUI() function</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">rows</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="p">;</span><span class="w">  </span><span class="c1">// &lt;-- declare your rows object</span>

<span class="w">  </span><span class="nx">config</span><span class="p">.</span><span class="nx">localSiteManifest</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">site</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// &lt;-- use forEach() to loop through the localSiteManifest Array</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Appending [</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">Name</span><span class="si">}</span><span class="sb">] Site to UI`</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Re-assign the value of rows with the current value of rows, plus the XML for a new row</span>
<span class="w">    </span><span class="c1">//  passing in the data for each item listed in the localSiteManifest Array</span>
<span class="w">    </span><span class="nx">rows</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">rows</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="sb">`&lt;Row&gt; </span>
<span class="sb">                    &lt;Name&gt;</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">Name</span><span class="si">}</span><span class="sb">&lt;/Name&gt;</span>
<span class="sb">                    &lt;Widget&gt;</span>
<span class="sb">                      &lt;WidgetId&gt;wx1_QrDocs~OpenSite~</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">Url</span><span class="si">}</span><span class="sb">&lt;/WidgetId&gt;</span>
<span class="sb">                      &lt;Name&gt;Open Site&lt;/Name&gt;</span>
<span class="sb">                      &lt;Type&gt;Button&lt;/Type&gt;</span>
<span class="sb">                      &lt;Options&gt;size=</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">QrEnabled</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">4</span><span class="si">}</span><span class="sb">&lt;/Options&gt;</span>
<span class="sb">                    &lt;/Widget&gt;</span>
<span class="sb">                    </span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">QrEnabled</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="sb">`&lt;Widget&gt;</span>
<span class="sb">                      &lt;WidgetId&gt;wx1_QrDocs~OpenQrCode~</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">Url</span><span class="si">}</span><span class="sb">&lt;/WidgetId&gt;</span>
<span class="sb">                      &lt;Name&gt;Open QrCode &lt;/Name&gt;</span>
<span class="sb">                      &lt;Type&gt;Button&lt;/Type&gt;</span>
<span class="sb">                      &lt;Options&gt;size=2&lt;/Options&gt;</span>
<span class="sb">                    &lt;/Widget&gt;`</span><span class="o">:</span><span class="w"> </span><span class="s1">''</span><span class="si">}</span>
<span class="sb">                  &lt;/Row&gt;`</span><span class="p">;</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="c1">// Declare and assign the rest of the XML for your panel, and pass in the rows data</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">xml</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`&lt;Extensions&gt;</span>
<span class="sb">                &lt;Panel&gt;</span>
<span class="sb">                  &lt;Order&gt;1&lt;/Order&gt;</span>
<span class="sb">                  &lt;Origin&gt;local&lt;/Origin&gt;</span>
<span class="sb">                  &lt;Location&gt;HomeScreenAndCallControls&lt;/Location&gt;</span>
<span class="sb">                  &lt;Icon&gt;Language&lt;/Icon&gt;</span>
<span class="sb">                  &lt;Color&gt;#875AE0&lt;/Color&gt;</span>
<span class="sb">                  &lt;Name&gt;Room Docs&lt;/Name&gt;</span>
<span class="sb">                  &lt;ActivityType&gt;Custom&lt;/ActivityType&gt;</span>
<span class="sb">                  &lt;Page&gt;</span>
<span class="sb">                    &lt;Name&gt;Room Docs&lt;/Name&gt;</span>
<span class="sb">                    </span><span class="si">${</span><span class="nx">rows</span><span class="w"> </span><span class="cm">/* Contains all the rows from the forEach() loop*/</span><span class="si">}</span>
<span class="sb">                    &lt;PageId&gt;wx1_QrDocs~RoomDocs&lt;/PageId&gt;</span>
<span class="sb">                    &lt;Options/&gt;</span>
<span class="sb">                  &lt;/Page&gt;</span>
<span class="sb">                &lt;/Panel&gt;</span>
<span class="sb">              &lt;/Extensions&gt;`</span><span class="p">;</span>

<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">build</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">Extensions</span><span class="p">.</span><span class="nx">Panel</span><span class="p">.</span><span class="nx">Save</span><span class="p">({</span><span class="w"> </span><span class="c1">// structure xCommand UserInterface Extensions Panel Save</span>
<span class="w">      </span><span class="nx">PanelId</span><span class="o">:</span><span class="w"> </span><span class="s1">'wx1_QrDocs'</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="nx">xml</span><span class="p">);</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'UserInterface Built!'</span><span class="p">,</span><span class="w"> </span><span class="nx">build</span><span class="p">);</span><span class="w"> </span><span class="c1">// Log it's repsonse</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Context</span><span class="o">:</span><span class="w"> </span><span class="sb">`Failed to Build UserInterface`</span><span class="p">,</span>
<span class="w">      </span><span class="p">...</span><span class="nx">e</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span><span class="w"> </span><span class="c1">// Catch and log it's error</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">};</span>

<span class="nx">buildUI</span><span class="p">();</span><span class="w">  </span><span class="c1">//&lt;-- Run the buildUI() function at the top level of your Macro</span>

<span class="nx">xapi</span><span class="p">.</span><span class="nx">Event</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">Extensions</span><span class="p">.</span><span class="nx">Widget</span><span class="p">.</span><span class="nx">Action</span><span class="p">.</span><span class="nx">on</span><span class="p">(({</span><span class="w"> </span><span class="nx">WidgetId</span><span class="p">,</span><span class="w"> </span><span class="nx">Type</span><span class="p">,</span><span class="w"> </span><span class="nx">Value</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">debug</span><span class="p">({</span><span class="w"> </span><span class="nx">WidgetId</span><span class="p">,</span><span class="w"> </span><span class="nx">Type</span><span class="p">,</span><span class="w"> </span><span class="nx">Value</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">WidgetId</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="sb">`wx1_QrDocs`</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">Type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'released'</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">app</span><span class="p">,</span><span class="w"> </span><span class="nx">action</span><span class="p">,</span><span class="w"> </span><span class="nx">url</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">WidgetId</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="sb">`~`</span><span class="p">);</span>

<span class="w">      </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s1">'OpenSite'</span><span class="o">:</span>
<span class="w">          </span><span class="nx">openSite</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
<span class="w">          </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s1">'OpenQrCode'</span><span class="o">:</span>
<span class="w">          </span><span class="nx">openQrCode</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
<span class="w">          </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="k">default</span><span class="o">:</span>
<span class="w">          </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="sb">`Unknown Action Fired: [</span><span class="si">${</span><span class="nx">action</span><span class="si">}</span><span class="sb">]`</span><span class="p">);</span>
<span class="w">          </span><span class="k">break</span><span class="p">;</span>
<span class="w">      </span><span class="p">};</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">});</span>
</code></pre></div>
</details>
<details class="success">
<summary>Compare your Macro Console</summary>
<!-- // EDIT MANIFEST URL HERE -->
<table>
<thead>
<tr>
<th>Time</th>
<th>App</th>
<th>Logs</th>
</tr>
</thead>
<tbody>
<tr>
<td>HH:MM:SS</td>
<td>Room Docs</td>
<td>QJS Ready</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>Room Docs</td>
<td>Config: {"manifestVisibility":"localOnly","remoteSiteManifest":"","localSiteManifest":[{"Name":"Lab 1451","Url":"https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_3/","QrEnabled":true},{"Name":"Reimagine Workspaces","Url":"https://www.webex.com/us/en/workspaces.html","QrEnabled":true},{"Name":"Cisco","Url":"https://www.cisco.com","QrEnabled":true}]}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>Room Docs</td>
<td>Appending [Lab 1451] Site to <abbr title="User Interface">UI</abbr></td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>Room Docs</td>
<td>Appending [Reimagine Workspaces] Site to <abbr title="User Interface">UI</abbr></td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>Room Docs</td>
<td>Appending [Cisco] Site to <abbr title="User Interface">UI</abbr></td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>Room Docs</td>
<td _status_:_ok_="&quot;status&quot;:&quot;OK&quot;">UserInterface Built!</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>Room Docs</td>
<td _status_:_ok_="&quot;status&quot;:&quot;OK&quot;">Site Webview Opened for: [https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_3/]</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>Room Docs</td>
<td>QR Webview Opened for: [https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_3/] {"status":"OK"} https://api.qrserver.com/v1/create-qr-code/?data=https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_3/</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>Room Docs</td>
<td _status_:_ok_="&quot;status&quot;:&quot;OK&quot;">Site Webview Opened for: [https://www.webex.com/us/en/workspaces.html]</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>Room Docs</td>
<td>QR Webview Opened for: [https://www.webex.com/us/en/workspaces.html] {"status":"OK"} https://api.qrserver.com/v1/create-qr-code/?data=https://www.webex.com/us/en/workspaces.html</td>
</tr>
</tbody>
</table>
</details>
</details>
<details class="lesson">
<summary>Lesson: Add a new Site to the Config <sub>(rxe-m2.2.3)</sub></summary>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To check our work, let's expand our <code>localSiteManifest</code> to include 2 new sites</p>
</div>
<ul>
<li>
<p><strong>xAPI</strong>: N/A</p>
</li>
<li>
<p><strong>Task</strong>: </p>
<ul>
<li>Select the <mark>Room Docs Configuration</mark> Macro and perform the next few tasks in this Macro</li>
<li>
<p>Under the <code>localSiteManifest</code> Array add the following 2 sites and additional Properties following the same JSON format as the other sites</p>
<ul>
<li>Site 1<ul>
<li>Name: Cisco</li>
<li>Url: https://www.cisco.com</li>
<li>QrEnabled: false</li>
</ul>
</li>
<li>Set 2 [Add Your Organizations Home Page]<ul>
<li>Name: Your Org Name</li>
<li>Url: Your Org Site</li>
<li>QrEnabled: true</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Once complete, <mark>Save</mark> and Activate the <mark>Room Docs</mark> Macro (if inactive)</p>
</li>
<li>
<p>Start pressing the <mark>Open Site</mark> and <mark>Open QrCode </mark> buttons contained within your <code>Room Docs</code> panel</p>
</li>
<li>Monitor the Device <abbr title="On Screen Display">OSD</abbr> and Macro Console Output</li>
</ul>
</li>
</ul>
<details class="success">
<summary>Compare your <code>Room Docs</code> Panel <abbr title="User Interface">UI</abbr></summary>
<p></p><figure markdown="span">
    <a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../../images/3-4-3_Local_PanelUI.png" data-title="Local Panel UI" data-desc-position="top"><img alt="Local Panel UI" src="../../images/3-4-3_Local_PanelUI.png" width="600"></a>
    <figcaption>Local Panel <abbr title="User Interface">UI</abbr></figcaption>
</figure><p></p>
</details>
<details class="success">
<summary>Compare your <mark>Room Docs Configuration</mark> Macro</summary>
<div class="highlight"><pre><span></span><code><span class="c1">// EDIT MANIFEST URL HERE</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">manifestVisibility</span><span class="o">:</span><span class="w"> </span><span class="s1">'merge'</span><span class="p">,</span><span class="w"> </span><span class="c1">// localOnly, remoteOnly, merge</span>
<span class="w">  </span><span class="nx">remoteSiteManifest</span><span class="o">:</span><span class="w"> </span><span class="s1">'https://raw.githubusercontent.com/WebexCC-SA/LAB-1451/refs/heads/main/docs/assets/downloadable_resources/3-4-3_remoteManifest.json'</span><span class="p">,</span>
<span class="w">  </span><span class="nx">localSiteManifest</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Name</span><span class="o">:</span><span class="w"> </span><span class="s1">'Lab 1451'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="s1">'https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_3/'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">QrEnabled</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Name</span><span class="o">:</span><span class="w"> </span><span class="s1">'Reimagine Workspaces'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="s1">'https://www.webex.com/us/en/workspaces.html'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">QrEnabled</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Name</span><span class="o">:</span><span class="w"> </span><span class="s1">'Cisco'</span><span class="p">,</span><span class="w">                </span><span class="c1">// &lt;-- Cisco Homepage Added</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="s1">'https://www.cisco.com'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">QrEnabled</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="c1">// Your Org Details Below Here</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="p">};</span>
</code></pre></div>
</details>
</details>
<h2 id="centralize-your-document-list-rxe-m23">Centralize your Document List <sub>(rxe-m2.3)</sub></h2>
<div class="admonition abstract">
<p class="admonition-title">Abstract</p>
<p>Now that we have an interface that can build itself with small changes to a config file, let's make this a bit easier for our content creators and ourselves to manage</p>
<p>We can do this by leveraging the Codec's HTTPClient xAPIs to reach out to a single endpoint over <abbr title="Hypertext Transfer Protocol">HTTP</abbr> that's hosting all of our document references and pull it down into the Codec before running the buildUI() function</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This lab is hosting a file called <code>QuickDocs_remoteManifest.json</code> on GitHub which contains 6 additional sites pre-configured in the same format as the local sites configured on the endpoint</p>
<p><a class="md-button md-button--primary" href="https://github.com/WebexCC-SA/LAB-1451/blob/main/docs/assets/downloadable_resources/3-4-3_remoteManifest.json" target="_blank">
  Review the Remote Manifest File <i class="fa-solid fa-square-up-right"></i>
</a></p>
</div>
</div>
<details class="lesson" open="open">
<summary>Lesson: Add a Remote Site <abbr title="Uniform Resource Locator">URL</abbr> to your <code>config</code> object <sub>(rxe-m2.3.1)</sub></summary>
<ul>
<li>
<p><strong>xAPI</strong>: N/A</p>
</li>
<li>
<p>Task:</p>
<ul>
<li>Select the <mark>Room Docs Configuration</mark> macro</li>
<li>Edit the <code>remoteSiteManifest</code> object and assign the following url as a string
    <!-- // EDIT MANIFEST URL HERE --><ul>
<li>https://raw.githubusercontent.com/WebexCC-SA/LAB-1451/refs/heads/main/docs/assets/downloadable_resources/3-4-3_remoteManifest.json</li>
</ul>
</li>
<li>Once complete, <mark>Save</mark>, keep this macro Inactive</li>
</ul>
</li>
</ul>
<details>
<summary>Compare your <mark>Room Docs Configuration</mark> Macro</summary>
<div class="highlight"><pre><span></span><code><span class="c1">// EDIT MANIFEST URL HERE</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">manifestVisibility</span><span class="o">:</span><span class="w"> </span><span class="s1">'merge'</span><span class="p">,</span><span class="w"> </span><span class="c1">// localOnly, remoteOnly, merge</span>
<span class="w">  </span><span class="nx">remoteSiteManifest</span><span class="o">:</span><span class="w"> </span><span class="s1">'https://raw.githubusercontent.com/WebexCC-SA/LAB-1451/refs/heads/main/docs/assets/downloadable_resources/3-4-3_remoteManifest.json'</span><span class="p">,</span>
<span class="w">  </span><span class="nx">localSiteManifest</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Name</span><span class="o">:</span><span class="w"> </span><span class="s1">'Lab 1451'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="s1">'https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_3/'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">QrEnabled</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Name</span><span class="o">:</span><span class="w"> </span><span class="s1">'Reimagine Workspaces'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="s1">'https://www.webex.com/us/en/workspaces.html'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">QrEnabled</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Name</span><span class="o">:</span><span class="w"> </span><span class="s1">'Cisco'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="s1">'https://www.cisco.com'</span><span class="p">,</span>
<span class="w">      </span><span class="nx">QrEnabled</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">};</span>

<span class="k">export</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="p">};</span>
</code></pre></div>
</details>
</details>
<details class="lesson">
<summary>Lesson: Declare a <code>getRemoteSiteManifest()</code> function <sub>(rxe-m2.3.2)</sub></summary>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Here, we'll be making an <abbr title="Hypertext Transfer Protocol">HTTP</abbr> Get request using the HTTPClient xAPI stack to reach out and pull information from a site external to the codec</p>
<details class="important">
<summary>Always Keep Security Top of Mind!</summary>
<p>It's easy to fall outside your organization's security policy especially when building new solutions.
Make sure you work with your, or your Customer's, Information Security teams before implementing a new solution that requires Integration Authentication of any kind or reaches out on the internet.
The security implications of a solution can force you building your solution using a different integration method, or even stop a project all together.
</p><div style="display: flex; gap: 10px;">
    <a class="md-button md-button--primary" href="https://www.cisco.com/c/en/us/td/docs/voice_ip_comm/uc_system/design/guides/wx_security.html" target="_blank">
      Checkout Webex's <i class="fa-solid fa-shield" style="color: #ff3a65;"></i> Security Technical References <i class="fa-solid fa-square-up-right"></i>
    </a>
</div><p></p>
</details>
</div>
<ul>
<li>
<p><strong>xAPI</strong>: xCommand HTTPClient Get</p>
</li>
<li>
<p><strong>Task</strong>:</p>
<ul>
<li>
<p>Select the <mark>Room Docs</mark> macro</p>
</li>
<li>
<p>Declare a new async function called <mark>getRemoteSiteManifest</mark> with no parameters</p>
</li>
<li>
<p>Within this function:</p>
<ul>
<li>Declare a <code>request</code> object with a value of <code>''</code> (Yes, no value assigned)</li>
<li>Declare a <code>remoteData</code> object with a value of <code>[]</code> (Yes, no value assigned)            </li>
<li>Within a <code>try...catch</code> block, structure the xAPI path above in Macro Syntax with the following parameters and assign this to the <code>request</code> object</li>
<li>Use the <mark>JSON.parse()</mark> method on the <code>request.Body</code> (the response captured in the <code>request</code> object) and assign this to the <code>remoteData</code> object<ul>
<li><mark>JSON.parse()</mark> allows us to later handler the data from the external site as if it were a JSON object, not a string</li>
</ul>
</li>
<li>Use console.debug to log the <code>remoteData</code> object</li>
<li>Return the <code>remoteData</code> object</li>
<li>Catch and log any errors</li>
</ul>
<div class="admonition example">
<p class="admonition-title">Click the Tabs below to see each step outlined above</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:4"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio"><input id="__tabbed_3_2" name="__tabbed_3" type="radio"><input id="__tabbed_3_3" name="__tabbed_3" type="radio"><input id="__tabbed_3_4" name="__tabbed_3" type="radio"><div class="tabbed-labels"><label for="__tabbed_3_1">Declare Function and Objects</label><label for="__tabbed_3_2">Assign Request with xAPI</label><label for="__tabbed_3_3">Parse Response and Return</label><label for="__tabbed_3_4">Catch and Log Errors (Full Func)</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">getRemoteSiteManifest</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="p">;</span><span class="w"> </span><span class="c1">// &lt;-- Declare request object</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">remoteData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span><span class="w"> </span><span class="c1">// &lt;-- Declare remoteData object</span>

<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">getRemoteSiteManifest</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="p">;</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">remoteData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>

<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// &lt;-- Setup try...catch block</span>
<span class="w">    </span><span class="nx">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">HttpClient</span><span class="p">.</span><span class="nx">Get</span><span class="p">({</span><span class="w"> </span><span class="c1">// &lt;-- Assign xCommand HTTPClient Get</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="nx">config</span><span class="p">.</span><span class="nx">remoteSiteManifest</span><span class="w"> </span><span class="c1">// &lt;-- Assign remoteManifest URL from the config</span>
<span class="w">    </span><span class="p">})</span>

<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">getRemoteSiteManifest</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="p">;</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">remoteData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>

<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">HttpClient</span><span class="p">.</span><span class="nx">Get</span><span class="p">({</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="nx">config</span><span class="p">.</span><span class="nx">remoteSiteManifest</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="nx">remoteData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="p">);</span><span class="w"> </span><span class="c1">// &lt;-- Use JSON.parse to process the request.Body</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="sb">`Remote Site Manifest Found`</span><span class="p">,</span><span class="w"> </span><span class="nx">remoteData</span><span class="p">);</span><span class="w"> </span><span class="c1">// &lt;-- log the response to the debug console</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">remoteData</span><span class="w"> </span><span class="c1">// &lt;-- return the remote site data</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">getRemoteSiteManifest</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="p">;</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">remoteData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>

<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">HttpClient</span><span class="p">.</span><span class="nx">Get</span><span class="p">({</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="nx">config</span><span class="p">.</span><span class="nx">remoteSiteManifest</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="nx">remoteData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="p">);</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="sb">`Remote Site Manifest Found`</span><span class="p">,</span><span class="w"> </span><span class="nx">remoteData</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">remoteData</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// &lt;-- Handle the possible Error</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Context</span><span class="o">:</span><span class="w"> </span><span class="s1">'Failed to Get remote site manifest'</span><span class="p">,</span><span class="w"> </span><span class="c1">// &lt;-- Leave yourself clues to troubleshoot</span>
<span class="w">      </span><span class="p">...</span><span class="nx">e</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span><span class="w"> </span><span class="c1">// &lt;-- Log the error</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
</div>
<ul>
<li>Once complete, <mark>Save</mark> and Activate the <mark>Room Docs</mark> Macro (if inactive)</li>
</ul>
</li>
</ul>
</li>
</ul>
</details>
<details class="lesson">
<summary>Lesson: Integrate the <code>getRemoteSiteManifest()</code> function into the <code>buildUI()</code> function <sub>(rxe-m2.3.3)</sub></summary>
<ul>
<li>
<p><strong>xAPI(s)</strong>:</p>
<ul>
<li>xCommand HTTPClient Get</li>
<li>xCommand UserInterface Extensions Panel Save</li>
</ul>
</li>
<li>
<p><strong>Task</strong>:</p>
<ul>
<li>Select the <mark>Room Docs</mark> macro</li>
<li>
<ul>
<li>Below the <code>let rows</code> declaration and above the <code>config.localSiteManifest.forEach(...)</code> loop, start a <code>switch</code> statement</li>
<li>We'll switch based on the <code>config</code> object's <mark>manifestVisibility</mark> value. This can be 1 of 3 values and should apply the following behaviors<ul>
<li>localOnly: The <abbr title="User Interface">UI</abbr> will only build sites that are found locally in the Codec's <mark>Room Docs Configuration</mark> macro</li>
<li>remoteOnly: The <abbr title="User Interface">UI</abbr> will only build sites that are configured in our <mark>remoteSiteManifest</mark> Url</li>
<li>merge: The <abbr title="User Interface">UI</abbr> will combine local and remote sites into the <abbr title="User Interface">UI</abbr></li>
<li>if the <mark>remoteSiteManifest</mark> Url is missing, you should ignore these values</li>
</ul>
</li>
</ul>
<p>Edit the <code>buildUI()</code> function</p>
<div class="admonition blank">
<p class="admonition-title">Copy the Switch Statement below into your buildUI() function</p>
<div class="highlight"><pre><span></span><code><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="nx">manifestVisibility</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="s1">'remoteOnly'</span><span class="o">:</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="nx">remoteSiteManifest</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">''</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">config</span><span class="p">.</span><span class="nx">remoteSiteManifest</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">undefined</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// &lt;-- Check to see if the ==remoteSiteManifest== Url is configured</span>
<span class="w">      </span><span class="nx">config</span><span class="p">.</span><span class="nx">localSiteManifest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">getRemoteSiteManifest</span><span class="p">();</span><span class="w"> </span><span class="c1">// &lt;-- overwrite configured localSiteManifest with the remoteSiteManifest</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">break</span><span class="p">;</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="s1">'merge'</span><span class="o">:</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="nx">remoteSiteManifest</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">''</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">config</span><span class="p">.</span><span class="nx">remoteSiteManifest</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">undefined</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// &lt;-- Check to see if the ==remoteSiteManifest== Url is configured</span>
<span class="w">      </span><span class="nx">config</span><span class="p">.</span><span class="nx">localSiteManifest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[...</span><span class="nx">config</span><span class="p">.</span><span class="nx">localSiteManifest</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="k">await</span><span class="w"> </span><span class="nx">getRemoteSiteManifest</span><span class="p">()]</span><span class="w"> </span><span class="c1">// &lt;-- overwrite configured localSiteManifest with a new Array, using both the current localSiteManifest and the remoteSiteManifest</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">break</span><span class="p">;</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="s1">'localOnly'</span><span class="o">:</span>
<span class="w">    </span><span class="c1">// No Action Required</span>
<span class="w">    </span><span class="k">break</span><span class="p">;</span>
<span class="w">  </span><span class="k">default</span><span class="o">:</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="sb">`Unknown manifestVisibility assignment: [</span><span class="si">${</span><span class="nx">config</span><span class="p">.</span><span class="nx">manifestVisibility</span><span class="si">}</span><span class="sb">]`</span><span class="p">)</span><span class="w"> </span><span class="c1">// &lt;-- Log unknown manifestVisibility values to the console</span>
<span class="w">    </span><span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>
</li>
<li>
<p>Once complete, <mark>Save</mark> and Activate the <mark>Room Docs</mark> Macro (if inactive)</p>
</li>
<li>Start pressing the <mark>Open Site</mark> and <mark>Open QrCode </mark> buttons contained within your <code>Room Docs</code> panel</li>
<li>Monitor the Macro Console Output</li>
</ul>
</li>
</ul>
<details class="success">
<summary>Compare your <code>Room Docs</code> Panel <abbr title="User Interface">UI</abbr></summary>
<ul>
<li>Remote Sites are marked with a <code></code> emoji for clarity</li>
</ul>
<p></p><figure markdown="span">
    <a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../../images/3-4-3_Local_Remote_PanelUI.png" data-title="Remote and Local Panel UI" data-desc-position="top"><img alt="Remote and Local Panel UI" src="../../images/3-4-3_Local_Remote_PanelUI.png" width="600"></a>
    <figcaption>Remote and Local Panel <abbr title="User Interface">UI</abbr></figcaption>
</figure><p></p>
</details>
<details class="success">
<summary>Compare your <code>Room Docs</code> Macro</summary>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'./Room Docs Configuration'</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Config:'</span><span class="p">,</span><span class="w"> </span><span class="nx">config</span><span class="p">);</span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">openSite</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="w"> </span><span class="nx">target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'OSD'</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">openPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">WebView</span><span class="p">.</span><span class="nx">Display</span><span class="p">({</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="nx">url</span><span class="p">,</span>
<span class="w">      </span><span class="nx">Target</span><span class="o">:</span><span class="w"> </span><span class="nx">target</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Site Webview Opened for: [</span><span class="si">${</span><span class="nx">url</span><span class="si">}</span><span class="sb">]`</span><span class="p">,</span><span class="w"> </span><span class="nx">openPage</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Context</span><span class="o">:</span><span class="w"> </span><span class="sb">`Failed to open Site WebView to: [</span><span class="si">${</span><span class="nx">url</span><span class="si">}</span><span class="sb">]`</span><span class="p">,</span>
<span class="w">      </span><span class="p">...</span><span class="nx">e</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">openQrCode</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="w"> </span><span class="nx">target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'OSD'</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">encodedUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">encodeURI</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">qrURL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`https://api.qrserver.com/v1/create-qr-code/?data=`</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">encodedUrl</span><span class="p">;</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">openPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">WebView</span><span class="p">.</span><span class="nx">Display</span><span class="p">({</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="nx">qrURL</span><span class="p">,</span>
<span class="w">      </span><span class="nx">Target</span><span class="o">:</span><span class="w"> </span><span class="nx">target</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`QR Webview Opened for: [</span><span class="si">${</span><span class="nx">url</span><span class="si">}</span><span class="sb">]`</span><span class="p">,</span><span class="w"> </span><span class="nx">openPage</span><span class="p">,</span><span class="w"> </span><span class="nx">qrURL</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Context</span><span class="o">:</span><span class="w"> </span><span class="sb">`Failed to open QR WebView to: [</span><span class="si">${</span><span class="nx">url</span><span class="si">}</span><span class="sb">]`</span><span class="p">,</span>
<span class="w">      </span><span class="nx">QrUrl</span><span class="o">:</span><span class="w"> </span><span class="nx">qrURL</span><span class="p">,</span>
<span class="w">      </span><span class="p">...</span><span class="nx">e</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">getRemoteSiteManifest</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="p">;</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">remoteData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>

<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">HttpClient</span><span class="p">.</span><span class="nx">Get</span><span class="p">({</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="nx">config</span><span class="p">.</span><span class="nx">remoteSiteManifest</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="nx">remoteData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="p">);</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="sb">`Remote Site Manifest Found`</span><span class="p">,</span><span class="w"> </span><span class="nx">remoteData</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">remoteData</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Context</span><span class="o">:</span><span class="w"> </span><span class="s1">'Failed to Get remote site manifest'</span><span class="p">,</span>
<span class="w">      </span><span class="p">...</span><span class="nx">e</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">buildUI</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">rows</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="p">;</span>

<span class="w">  </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="nx">manifestVisibility</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s1">'remoteOnly'</span><span class="o">:</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="nx">remoteSiteManifest</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">''</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">config</span><span class="p">.</span><span class="nx">remoteSiteManifest</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">undefined</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">config</span><span class="p">.</span><span class="nx">localSiteManifest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">getRemoteSiteManifest</span><span class="p">();</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s1">'merge'</span><span class="o">:</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="nx">remoteSiteManifest</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">''</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">config</span><span class="p">.</span><span class="nx">remoteSiteManifest</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">undefined</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">config</span><span class="p">.</span><span class="nx">localSiteManifest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[...</span><span class="nx">config</span><span class="p">.</span><span class="nx">localSiteManifest</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="k">await</span><span class="w"> </span><span class="nx">getRemoteSiteManifest</span><span class="p">()]</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s1">'localOnly'</span><span class="o">:</span>
<span class="w">      </span><span class="c1">// No Action Required</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="k">default</span><span class="o">:</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="sb">`Unknown manifestVisibility assignment: [</span><span class="si">${</span><span class="nx">config</span><span class="p">.</span><span class="nx">manifestVisibility</span><span class="si">}</span><span class="sb">]`</span><span class="p">)</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">config</span><span class="p">.</span><span class="nx">localSiteManifest</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">site</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Appending [</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">Name</span><span class="si">}</span><span class="sb">] Site to UI`</span><span class="p">);</span>

<span class="w">    </span><span class="nx">rows</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">rows</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="sb">`&lt;Row&gt; </span>
<span class="sb">                    &lt;Name&gt;</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">Name</span><span class="si">}</span><span class="sb">&lt;/Name&gt;</span>
<span class="sb">                    &lt;Widget&gt;</span>
<span class="sb">                      &lt;WidgetId&gt;wx1_QrDocs~OpenSite~</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">Url</span><span class="si">}</span><span class="sb">&lt;/WidgetId&gt;</span>
<span class="sb">                      &lt;Name&gt;Open Site&lt;/Name&gt;</span>
<span class="sb">                      &lt;Type&gt;Button&lt;/Type&gt;</span>
<span class="sb">                      &lt;Options&gt;size=</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">QrEnabled</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">4</span><span class="si">}</span><span class="sb">&lt;/Options&gt;</span>
<span class="sb">                    &lt;/Widget&gt;</span>
<span class="sb">                    </span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">QrEnabled</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="sb">`&lt;Widget&gt;</span>
<span class="sb">                      &lt;WidgetId&gt;wx1_QrDocs~OpenQrCode~</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">Url</span><span class="si">}</span><span class="sb">&lt;/WidgetId&gt;</span>
<span class="sb">                      &lt;Name&gt;Open QrCode &lt;/Name&gt;</span>
<span class="sb">                      &lt;Type&gt;Button&lt;/Type&gt;</span>
<span class="sb">                      &lt;Options&gt;size=2&lt;/Options&gt;</span>
<span class="sb">                    &lt;/Widget&gt;`</span><span class="o">:</span><span class="w"> </span><span class="s1">''</span><span class="si">}</span>
<span class="sb">                  &lt;/Row&gt;`</span><span class="p">;</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">xml</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`&lt;Extensions&gt;</span>
<span class="sb">                &lt;Panel&gt;</span>
<span class="sb">                  &lt;Order&gt;1&lt;/Order&gt;</span>
<span class="sb">                  &lt;Origin&gt;local&lt;/Origin&gt;</span>
<span class="sb">                  &lt;Location&gt;HomeScreenAndCallControls&lt;/Location&gt;</span>
<span class="sb">                  &lt;Icon&gt;Language&lt;/Icon&gt;</span>
<span class="sb">                  &lt;Color&gt;#875AE0&lt;/Color&gt;</span>
<span class="sb">                  &lt;Name&gt;Room Docs&lt;/Name&gt;</span>
<span class="sb">                  &lt;ActivityType&gt;Custom&lt;/ActivityType&gt;</span>
<span class="sb">                  &lt;Page&gt;</span>
<span class="sb">                    &lt;Name&gt;Room Docs&lt;/Name&gt;</span>
<span class="sb">                    </span><span class="si">${</span><span class="nx">rows</span><span class="si">}</span>
<span class="sb">                    &lt;PageId&gt;wx1_QrDocs~RoomDocs&lt;/PageId&gt;</span>
<span class="sb">                    &lt;Options/&gt;</span>
<span class="sb">                  &lt;/Page&gt;</span>
<span class="sb">                &lt;/Panel&gt;</span>
<span class="sb">              &lt;/Extensions&gt;`</span><span class="p">;</span>

<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">build</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">Extensions</span><span class="p">.</span><span class="nx">Panel</span><span class="p">.</span><span class="nx">Save</span><span class="p">({</span>
<span class="w">      </span><span class="nx">PanelId</span><span class="o">:</span><span class="w"> </span><span class="s1">'wx1_QrDocs'</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="nx">xml</span><span class="p">);</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'UserInterface Built!'</span><span class="p">,</span><span class="w"> </span><span class="nx">build</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Context</span><span class="o">:</span><span class="w"> </span><span class="sb">`Failed to Build UserInterface`</span><span class="p">,</span>
<span class="w">      </span><span class="p">...</span><span class="nx">e</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">};</span>

<span class="nx">buildUI</span><span class="p">();</span>

<span class="nx">xapi</span><span class="p">.</span><span class="nx">Event</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">Extensions</span><span class="p">.</span><span class="nx">Widget</span><span class="p">.</span><span class="nx">Action</span><span class="p">.</span><span class="nx">on</span><span class="p">(({</span><span class="w"> </span><span class="nx">WidgetId</span><span class="p">,</span><span class="w"> </span><span class="nx">Type</span><span class="p">,</span><span class="w"> </span><span class="nx">Value</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">debug</span><span class="p">({</span><span class="w"> </span><span class="nx">WidgetId</span><span class="p">,</span><span class="w"> </span><span class="nx">Type</span><span class="p">,</span><span class="w"> </span><span class="nx">Value</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">WidgetId</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="sb">`wx1_QrDocs`</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">Type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'released'</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">app</span><span class="p">,</span><span class="w"> </span><span class="nx">action</span><span class="p">,</span><span class="w"> </span><span class="nx">url</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">WidgetId</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="sb">`~`</span><span class="p">);</span>

<span class="w">      </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s1">'OpenSite'</span><span class="o">:</span>
<span class="w">          </span><span class="nx">openSite</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
<span class="w">          </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s1">'OpenQrCode'</span><span class="o">:</span>
<span class="w">          </span><span class="nx">openQrCode</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
<span class="w">          </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="k">default</span><span class="o">:</span>
<span class="w">          </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="sb">`Unknown Action Fired: [</span><span class="si">${</span><span class="nx">action</span><span class="si">}</span><span class="sb">]`</span><span class="p">);</span>
<span class="w">          </span><span class="k">break</span><span class="p">;</span>
<span class="w">      </span><span class="p">};</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">});</span>
</code></pre></div>
</details>
<details class="success">
<summary>Compare your Macro Console</summary>
<p><!-- // EDIT MANIFEST URL HERE -->
| Time       | Macro      | Log                                                                                                                                                        |
|------------|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 23:50:16   | Room Docs  | QJS Ready                                                                                                                                                  |
| 23:50:16   | Room Docs  | Config: {"manifestVisibility":"merge","remoteSiteManifest":"https://raw.githubusercontent.com/WebexCC-SA/LAB-1451/refs/heads/main/docs/assets/downloadable_resources/3-4-3_remoteManifest.json","localSiteManifest":[{"Name":"Lab 1451","Url":"https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_3/","QrEnabled":true},{"Name":"Reimagine Workspaces","Url":"https://www.webex.com/us/en/workspaces.html","QrEnabled":true},{"Name":"Cisco","Url":"https://www.cisco.com","QrEnabled":true}]} |
| 23:50:16   | Room Docs  | Appending [Lab 1451] Site to <abbr title="User Interface">UI</abbr>                                                                                                                          |
| 23:50:16   | Room Docs  | Appending [Reimagine Workspaces] Site to <abbr title="User Interface">UI</abbr>                                                                                                              |
| 23:50:16   | Room Docs  | Appending [Cisco] Site to <abbr title="User Interface">UI</abbr>                                                                                                                              |
| 23:50:16   | Room Docs  | Appending [Room Kit EQX ] Site to <abbr title="User Interface">UI</abbr>                                                                                                                  |
| 23:50:16   | Room Docs  | Appending [WebexOne ] Site to <abbr title="User Interface">UI</abbr>                                                                                                                        |
| 23:50:16   | Room Docs  | Appending [RoomOS xAPI References ] Site to <abbr title="User Interface">UI</abbr>                                                                                                          |
| 23:50:16   | Room Docs  | Appending [Crossview Room Pre Guidelines ] Site to <abbr title="User Interface">UI</abbr>                                                                                                   |
| 23:50:16   | Room Docs  | Appending [Using Extra LoudSpeakers ] Site to <abbr title="User Interface">UI</abbr>                                                                                                        |
| 23:50:16   | Room Docs  | Appending [Webex AI Codec ] Site to <abbr title="User Interface">UI</abbr>                                                                                                                  |
| 23:50:16   | Room Docs  | UserInterface Built! {"status":"OK"}                                                                                                                     |
| 23:50:31   | Room Docs  | Site Webview Opened for: [https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_3/] {"status":"OK"}                                                    |
| 23:50:50   | Room Docs  | QR Webview Opened for: [https://www.cisco.com] {"status":"OK"} https://api.qrserver.com/v1/create-qr-code/?data=https://www.cisco.com                 |
| 23:50:54   | Room Docs  | Site Webview Opened for: [https://roomos.cisco.com/xapi] {"status":"OK"}                                                                                |
| 23:51:02   | Room Docs  | QR Webview Opened for: [https://www.cisco.com/c/dam/en/us/td/docs/telepresence/endpoint/ce97/extra-loudspeakers-local-reinforcement-guide-ce97.pdf] {"status":"OK"} https://api.qrserver.com/v1/create-qr-code/?data=https://www.cisco.com/c/dam/en/us/td/docs/telepresence/endpoint/ce97/extra-loudspeakers-local-reinforcement-guide-ce97.pdf |
| 23:51:04   | Room Docs  | Site Webview Opened for: [https://blog.webex.com/collaboration/hybrid-work/next-level-audio-with-webex-ai-codec/] {"status":"OK"}                     |</p>
</details>
</details>
<details class="lesson">
<summary>Lesson: Refresh you <abbr title="User Interface">UI</abbr> More Frequently <sub>(rxe-m2.3.3)</sub></summary>
<div class="admonition note">
<p>With the external manifest file now being fetched and integrated into our UserInterface, we've introduced a new problem. Now we have a hard coded manifest, which will always refresh when we save over the Room Docs Configuration macro, but will only update the external manifest when the Macro Runtime Restarts</p>
<p>The Macro Runtime is what processes and executes the code we provide. It's what makes all of this come to life and it only restarts when</p>
<ul>
<li>The RoomOS Device Restarts</li>
<li>The Runtime is restarted or activated via the RoomOS xAPI</li>
<li>Or by toggling Macros either on the Device Web <abbr title="User Interface">UI</abbr> or through Control Hub</li>
</ul>
<p>Where as this can happen less frequently, we'll need to add in some logic to request that manifest more frequently.</p>
<p>For our case, subscribing to the Panel Clicked event and re-running our <code>buildUI()</code> function should do fine.</p>
</div>
<ul>
<li>
<p><strong>xAPI</strong>: xEvent UserInterface Extensions Panel Clicked</p>
</li>
<li>
<p><strong>Task</strong>:</p>
<ul>
<li>
<p>Subscribe the xAPI Path above using Macro Syntax</p>
</li>
<li>
<p>Take the Callback information generated by this event, and log it to the Macro Console using <code>console.log()</code></p>
</li>
<li>
<p>Use and <code>if</code> statement to listen for when our PanelId <hl_5>wx1_QrDocs</hl_5></p>
</li>
<li>
<p>When this resolves <hl_0>true</hl_0>, re-run the <code>buildUI()</code> function</p>
</li>
<li>
<p>Else, do nothing</p>
</li>
<li>
<p>Once complete, <mark>Save</mark> and Activate the macro (if inactive)</p>
</li>
<li>
<p>Press the Room Docs and Monitor the Macro Console Output. You should see the same output as in Lesson rxe-m2.3.2</p>
</li>
</ul>
</li>
</ul>
<details class="success">
<summary>View a successful Panel Clicked Subscription</summary>
<div class="highlight"><pre><span></span><code><span class="nx">xapi</span><span class="p">.</span><span class="nx">Event</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">Extensions</span><span class="p">.</span><span class="nx">Panel</span><span class="p">.</span><span class="nx">Clicked</span><span class="p">.</span><span class="nx">on</span><span class="p">(({</span><span class="w"> </span><span class="nx">PanelId</span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">({</span><span class="w"> </span><span class="nx">PanelId</span><span class="p">});</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">PanelId</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'wx1_QrDocs'</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">buildUI</span><span class="p">();</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">});</span>
</code></pre></div>
</details>
<details class="success">
<summary>Compare your Macro</summary>
<details class="success">
<summary>Compare your <code>Room Docs</code> Macro</summary>
</details>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'./Room Docs Configuration'</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Config:'</span><span class="p">,</span><span class="w"> </span><span class="nx">config</span><span class="p">);</span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">openSite</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="w"> </span><span class="nx">target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'OSD'</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">openPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">WebView</span><span class="p">.</span><span class="nx">Display</span><span class="p">({</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="nx">url</span><span class="p">,</span>
<span class="w">      </span><span class="nx">Target</span><span class="o">:</span><span class="w"> </span><span class="nx">target</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Site Webview Opened for: [</span><span class="si">${</span><span class="nx">url</span><span class="si">}</span><span class="sb">]`</span><span class="p">,</span><span class="w"> </span><span class="nx">openPage</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Context</span><span class="o">:</span><span class="w"> </span><span class="sb">`Failed to open Site WebView to: [</span><span class="si">${</span><span class="nx">url</span><span class="si">}</span><span class="sb">]`</span><span class="p">,</span>
<span class="w">      </span><span class="p">...</span><span class="nx">e</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">openQrCode</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="w"> </span><span class="nx">target</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'OSD'</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">encodedUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">encodeURI</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">qrURL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`https://api.qrserver.com/v1/create-qr-code/?data=`</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">encodedUrl</span><span class="p">;</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">openPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">WebView</span><span class="p">.</span><span class="nx">Display</span><span class="p">({</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="nx">qrURL</span><span class="p">,</span>
<span class="w">      </span><span class="nx">Target</span><span class="o">:</span><span class="w"> </span><span class="nx">target</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`QR Webview Opened for: [</span><span class="si">${</span><span class="nx">url</span><span class="si">}</span><span class="sb">]`</span><span class="p">,</span><span class="w"> </span><span class="nx">openPage</span><span class="p">,</span><span class="w"> </span><span class="nx">qrURL</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Context</span><span class="o">:</span><span class="w"> </span><span class="sb">`Failed to open QR WebView to: [</span><span class="si">${</span><span class="nx">url</span><span class="si">}</span><span class="sb">]`</span><span class="p">,</span>
<span class="w">      </span><span class="nx">QrUrl</span><span class="o">:</span><span class="w"> </span><span class="nx">qrURL</span><span class="p">,</span>
<span class="w">      </span><span class="p">...</span><span class="nx">e</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">getRemoteSiteManifest</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="p">;</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">remoteData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>

<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">HttpClient</span><span class="p">.</span><span class="nx">Get</span><span class="p">({</span>
<span class="w">      </span><span class="nx">Url</span><span class="o">:</span><span class="w"> </span><span class="nx">config</span><span class="p">.</span><span class="nx">remoteSiteManifest</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">    </span><span class="nx">remoteData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">Body</span><span class="p">);</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="sb">`Remote Site Manifest Found`</span><span class="p">,</span><span class="w"> </span><span class="nx">remoteData</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">remoteData</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Context</span><span class="o">:</span><span class="w"> </span><span class="s1">'Failed to Get remote site manifest'</span><span class="p">,</span>
<span class="w">      </span><span class="p">...</span><span class="nx">e</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">buildUI</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">rows</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="p">;</span>

<span class="w">  </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="nx">manifestVisibility</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s1">'remoteOnly'</span><span class="o">:</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="nx">remoteSiteManifest</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">''</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">config</span><span class="p">.</span><span class="nx">remoteSiteManifest</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">undefined</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">config</span><span class="p">.</span><span class="nx">localSiteManifest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">getRemoteSiteManifest</span><span class="p">();</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s1">'merge'</span><span class="o">:</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="nx">remoteSiteManifest</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">''</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">config</span><span class="p">.</span><span class="nx">remoteSiteManifest</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">undefined</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">config</span><span class="p">.</span><span class="nx">localSiteManifest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[...</span><span class="nx">config</span><span class="p">.</span><span class="nx">localSiteManifest</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="k">await</span><span class="w"> </span><span class="nx">getRemoteSiteManifest</span><span class="p">()]</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s1">'localOnly'</span><span class="o">:</span>
<span class="w">      </span><span class="c1">// No Action Required</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="k">default</span><span class="o">:</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="sb">`Unknown manifestVisibility assignment: [</span><span class="si">${</span><span class="nx">config</span><span class="p">.</span><span class="nx">manifestVisibility</span><span class="si">}</span><span class="sb">]`</span><span class="p">)</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">config</span><span class="p">.</span><span class="nx">localSiteManifest</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">site</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Appending [</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">Name</span><span class="si">}</span><span class="sb">] Site to UI`</span><span class="p">);</span>

<span class="w">    </span><span class="nx">rows</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">rows</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="sb">`&lt;Row&gt; </span>
<span class="sb">                    &lt;Name&gt;</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">Name</span><span class="si">}</span><span class="sb">&lt;/Name&gt;</span>
<span class="sb">                    &lt;Widget&gt;</span>
<span class="sb">                      &lt;WidgetId&gt;wx1_QrDocs~OpenSite~</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">Url</span><span class="si">}</span><span class="sb">&lt;/WidgetId&gt;</span>
<span class="sb">                      &lt;Name&gt;Open Site&lt;/Name&gt;</span>
<span class="sb">                      &lt;Type&gt;Button&lt;/Type&gt;</span>
<span class="sb">                      &lt;Options&gt;size=</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">QrEnabled</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">4</span><span class="si">}</span><span class="sb">&lt;/Options&gt;</span>
<span class="sb">                    &lt;/Widget&gt;</span>
<span class="sb">                    </span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">QrEnabled</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="sb">`&lt;Widget&gt;</span>
<span class="sb">                      &lt;WidgetId&gt;wx1_QrDocs~OpenQrCode~</span><span class="si">${</span><span class="nx">site</span><span class="p">.</span><span class="nx">Url</span><span class="si">}</span><span class="sb">&lt;/WidgetId&gt;</span>
<span class="sb">                      &lt;Name&gt;Open QrCode &lt;/Name&gt;</span>
<span class="sb">                      &lt;Type&gt;Button&lt;/Type&gt;</span>
<span class="sb">                      &lt;Options&gt;size=2&lt;/Options&gt;</span>
<span class="sb">                    &lt;/Widget&gt;`</span><span class="o">:</span><span class="w"> </span><span class="s1">''</span><span class="si">}</span>
<span class="sb">                  &lt;/Row&gt;`</span><span class="p">;</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">xml</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`&lt;Extensions&gt;</span>
<span class="sb">                &lt;Panel&gt;</span>
<span class="sb">                  &lt;Order&gt;1&lt;/Order&gt;</span>
<span class="sb">                  &lt;Origin&gt;local&lt;/Origin&gt;</span>
<span class="sb">                  &lt;Location&gt;HomeScreenAndCallControls&lt;/Location&gt;</span>
<span class="sb">                  &lt;Icon&gt;Language&lt;/Icon&gt;</span>
<span class="sb">                  &lt;Color&gt;#875AE0&lt;/Color&gt;</span>
<span class="sb">                  &lt;Name&gt;Room Docs&lt;/Name&gt;</span>
<span class="sb">                  &lt;ActivityType&gt;Custom&lt;/ActivityType&gt;</span>
<span class="sb">                  &lt;Page&gt;</span>
<span class="sb">                    &lt;Name&gt;Room Docs&lt;/Name&gt;</span>
<span class="sb">                    </span><span class="si">${</span><span class="nx">rows</span><span class="si">}</span>
<span class="sb">                    &lt;PageId&gt;wx1_QrDocs~RoomDocs&lt;/PageId&gt;</span>
<span class="sb">                    &lt;Options/&gt;</span>
<span class="sb">                  &lt;/Page&gt;</span>
<span class="sb">                &lt;/Panel&gt;</span>
<span class="sb">              &lt;/Extensions&gt;`</span><span class="p">;</span>

<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">build</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">Extensions</span><span class="p">.</span><span class="nx">Panel</span><span class="p">.</span><span class="nx">Save</span><span class="p">({</span>
<span class="w">      </span><span class="nx">PanelId</span><span class="o">:</span><span class="w"> </span><span class="s1">'wx1_QrDocs'</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="nx">xml</span><span class="p">);</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'UserInterface Built!'</span><span class="p">,</span><span class="w"> </span><span class="nx">build</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">Context</span><span class="o">:</span><span class="w"> </span><span class="sb">`Failed to Build UserInterface`</span><span class="p">,</span>
<span class="w">      </span><span class="p">...</span><span class="nx">e</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">};</span>

<span class="nx">buildUI</span><span class="p">();</span>

<span class="nx">xapi</span><span class="p">.</span><span class="nx">Event</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">Extensions</span><span class="p">.</span><span class="nx">Widget</span><span class="p">.</span><span class="nx">Action</span><span class="p">.</span><span class="nx">on</span><span class="p">(({</span><span class="w"> </span><span class="nx">WidgetId</span><span class="p">,</span><span class="w"> </span><span class="nx">Type</span><span class="p">,</span><span class="w"> </span><span class="nx">Value</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">debug</span><span class="p">({</span><span class="w"> </span><span class="nx">WidgetId</span><span class="p">,</span><span class="w"> </span><span class="nx">Type</span><span class="p">,</span><span class="w"> </span><span class="nx">Value</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">WidgetId</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="sb">`wx1_QrDocs`</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">Type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'released'</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">app</span><span class="p">,</span><span class="w"> </span><span class="nx">action</span><span class="p">,</span><span class="w"> </span><span class="nx">url</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">WidgetId</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="sb">`~`</span><span class="p">);</span>

<span class="w">      </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s1">'OpenSite'</span><span class="o">:</span>
<span class="w">          </span><span class="nx">openSite</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
<span class="w">          </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="s1">'OpenQrCode'</span><span class="o">:</span>
<span class="w">          </span><span class="nx">openQrCode</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
<span class="w">          </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="k">default</span><span class="o">:</span>
<span class="w">          </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="sb">`Unknown Action Fired: [</span><span class="si">${</span><span class="nx">action</span><span class="si">}</span><span class="sb">]`</span><span class="p">);</span>
<span class="w">          </span><span class="k">break</span><span class="p">;</span>
<span class="w">      </span><span class="p">};</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">});</span>

<span class="nx">xapi</span><span class="p">.</span><span class="nx">Event</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">Extensions</span><span class="p">.</span><span class="nx">Panel</span><span class="p">.</span><span class="nx">Clicked</span><span class="p">.</span><span class="nx">on</span><span class="p">(({</span><span class="w"> </span><span class="nx">PanelId</span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">({</span><span class="w"> </span><span class="nx">PanelId</span><span class="p">});</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">PanelId</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'wx1_QrDocs'</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">buildUI</span><span class="p">();</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">});</span>
</code></pre></div>
</details>
</details>
<details class="lesson">
<summary>Lesson: Adjust the <code>manifestVisibility</code> value in the <code>config</code> object <sub>(rxe-m2.3.4)</sub></summary>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Last, but certainly not least, is a demonstration that shows what the <code>manifestVisibility</code> value can affect when changed</p>
</div>
<ul>
<li>
<p><strong>xAPI</strong>: N/A</p>
</li>
<li>
<p>Task:</p>
<ul>
<li>Select the <mark>Room Docs Configuration</mark> macro</li>
<li>
<p>Change the value of <code>manifestVisibility</code> to 1 of the 3 values below</p>
<ul>
<li>localOnly</li>
<li>remoteOnly</li>
<li>merge</li>
</ul>
</li>
<li>
<p>Once complete, <mark>Save</mark> and Activate the <mark>Room Docs</mark> Macro (if inactive)</p>
</li>
<li>
<p>Start pressing the <mark>Open Site</mark> and <mark>Open QrCode </mark> buttons contained within your <code>Room Docs</code> panel</p>
</li>
<li>
<p>Repeat for each <code>manifestVisibility</code> Value</p>
</li>
</ul>
<div class="admonition example">
<p class="admonition-title">Click the tabs below to see the differences of each <code>manifestVisibility</code> Value</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:3"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio"><input id="__tabbed_4_2" name="__tabbed_4" type="radio"><input id="__tabbed_4_3" name="__tabbed_4" type="radio"><div class="tabbed-labels"><label for="__tabbed_4_1">localOnly</label><label for="__tabbed_4_2">remoteOnly</label><label for="__tabbed_4_3">merge</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><span class="filename">Syntax</span><pre><span></span><code><span class="nx">manifestVisibility</span><span class="o">:</span><span class="w"> </span><span class="s1">'localOnly'</span><span class="p">,</span>
</code></pre></div>
<p></p><figure markdown="span">
    <a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../../images/3-4-3_Local_PanelUI.png" data-title="Local Panel UI" data-desc-position="top"><img alt="Local Panel UI" src="../../images/3-4-3_Local_PanelUI.png" width="600"></a>
    <figcaption>Local Panel <abbr title="User Interface">UI</abbr></figcaption>
</figure><p></p>
</div>
<div class="tabbed-block">
<div class="highlight"><span class="filename">Syntax</span><pre><span></span><code><span class="nx">manifestVisibility</span><span class="o">:</span><span class="w"> </span><span class="s1">'remoteOnly'</span><span class="p">,</span>
</code></pre></div>
<p></p><figure markdown="span">
    <a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../../images/3-4-3_Remote_PanelUI.png" data-title="Remote Panel UI" data-desc-position="top"><img alt="Remote Panel UI" src="../../images/3-4-3_Remote_PanelUI.png" width="600"></a>
    <figcaption>Remote Panel <abbr title="User Interface">UI</abbr></figcaption>
</figure><p></p>
</div>
<div class="tabbed-block">
<div class="highlight"><span class="filename">Syntax</span><pre><span></span><code><span class="nx">manifestVisibility</span><span class="o">:</span><span class="w"> </span><span class="s1">'merge'</span><span class="p">,</span>
</code></pre></div>
<p></p><figure markdown="span">
    <a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../../images/3-4-3_Local_Remote_PanelUI.png" data-title="Remote and Local Panel UI" data-desc-position="top"><img alt="Remote and Local Panel UI" src="../../images/3-4-3_Local_Remote_PanelUI.png" width="600"></a>
    <figcaption>Remote and Local Panel <abbr title="User Interface">UI</abbr></figcaption>
</figure><p></p>
</div>
</div>
</div>
</div>
</li>
</ul>
</details>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer">
        
          
          <a href="../rxp_exe_Quick_Docs_PT1/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Part 1 - Start Simple &lt;sup&gt;&lt;sup&gt;rxe-m1&lt;/sup&gt;&lt;/sup&gt;">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Part 1 - Start Simple <sup><sup>rxe-m1</sup></sup>
              </div>
            </div>
          </a>
        
        
          
          <a href="../../../../Deployment/dep_intro/" class="md-footer__link md-footer__link--next" aria-label="Next: Deployment Introduction">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Deployment Introduction
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright  2025 Cisco
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.instant", "navigation.top", "navigation.footer", "search.suggest", "content.code.copy", "toc.integrate", "content.tooltips", "content.footnote.tooltips"], "search": "../../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../../../../template_assets/js/newLoad.js"></script>
      
        <script src="../../../../../template_assets/js/setInfo.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": false, "openEffect": "fade", "closeEffect": "fade", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>