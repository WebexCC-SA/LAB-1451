<!DOCTYPE html><html lang="en" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Deep-dive into Cisco devices xAPIs">
      
      
        <meta name="author" content="Bobby McGonigle, Christopher Norman">
      
      
      
        <link rel="prev" href="../rxp_xapi_http/">
      
      
        <link rel="next" href="../../rxp_userInterface/rxp_ui_intro/">
      
      
      <link rel="icon" href="../../../../template_assets/webex75.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Macros rxp-6 - LAB-1451: Deep-dive into Cisco devices xAPIs</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/customTextHighlight.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  <link href="../../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#accessing-the-xapi-via-the-macro-editor-section-rxp-6" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="LAB-1451: Deep-dive into Cisco devices xAPIs" class="md-header__button md-logo" aria-label="LAB-1451: Deep-dive into Cisco devices xAPIs" data-md-component="logo">
      
  <img src="../../../../template_assets/webexLogo91.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LAB-1451: Deep-dive into Cisco devices xAPIs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Macros <sup><sup>rxp-6</sup></sup>
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo" aria-label="Switch to dark mode" type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="indigo" aria-label="Switch to light mode" type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
  
    
  
  Home&nbsp;<i class="fa-solid fa-house" style="color:#B197FC;"></i>

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../Setup/stp_intro/" class="md-tabs__link">
        
  
  
    
  
  Lab Setup&nbsp;<i class="fa-solid fa-gear"></i>

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../rxp_intro/" class="md-tabs__link">
          
  
  
    
  
  RoomOS xAPI &amp; UserInterfaces&nbsp;<i class="fa-solid fa-video" style="color: #428bff;"></i>

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Deployment/dep_intro/" class="md-tabs__link">
          
  
  
    
  
  Deployment&nbsp;<i class="fa-solid fa-cloud-arrow-up" style="color: #ff0000;"></i>

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../Resources/res_tools/" class="md-tabs__link">
        
  
  
    
  
  Tools&nbsp;<i class="fa-solid fa-gear"></i>

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Resources/res_tools/" class="md-tabs__link">
          
  
  
    
  
  Resources&nbsp;<i class="fa-solid fa-globe" style="color:#ffd903;"></i>

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="LAB-1451: Deep-dive into Cisco devices xAPIs" class="md-nav__button md-logo" aria-label="LAB-1451: Deep-dive into Cisco devices xAPIs" data-md-component="logo">
      
  <img src="../../../../template_assets/webexLogo91.png" alt="logo">

    </a>
    LAB-1451: Deep-dive into Cisco devices xAPIs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home&nbsp;<i class="fa-solid fa-house" style="color:#B197FC;"></i>
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Setup/stp_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab Setup&nbsp;<i class="fa-solid fa-gear"></i>
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    RoomOS xAPI &amp; UserInterfaces&nbsp;<i class="fa-solid fa-video" style="color: #428bff;"></i>
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            RoomOS xAPI &amp; UserInterfaces&nbsp;<i class="fa-solid fa-video" style="color: #428bff;"></i>
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rxp_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RoomOS Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" checked>
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    RoomOS xAPI
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            RoomOS xAPI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rxp_xapi_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    What are RoomOS xAPI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rxp_xapi_ssh/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SSH <sup><sup>rxp-1</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rxp_xapi_http/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HTTP <sup><sup>rxp-3</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Macros <sup><sup>rxp-6</sup></sup>
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Macros <sup><sup>rxp-6</sup></sup>
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#enabling-macros-rxp-61" class="md-nav__link">
    <span class="md-ellipsis">
      Enabling Macros (rxp-6.1)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#navigating-the-macro-editor-and-installing-the-macropak-rxp-62" class="md-nav__link">
    <span class="md-ellipsis">
      Navigating the Macro Editor and installing the MacroPak (rxp-6.2)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#executing-xcommands-rxp-63" class="md-nav__link">
    <span class="md-ellipsis">
      Executing xCommands (rxp-6.3)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-getting-and-subscribing-to-xconfigurations-rxp-64" class="md-nav__link">
    <span class="md-ellipsis">
      Setting, Getting and Subscribing to xConfigurations (rxp-6.4)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-and-subscribing-to-xstatuses-rxp-65" class="md-nav__link">
    <span class="md-ellipsis">
      Getting and Subscribing to xStatuses (rxp-6.5)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#subscribing-to-xevents-rxp-66" class="md-nav__link">
    <span class="md-ellipsis">
      Subscribing to xEvents (rxp-6.6)
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3">
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    RoomOS UserInterfaces
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            RoomOS UserInterfaces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rxp_userInterface/rxp_ui_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    What are RoomOS UserInterfaces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rxp_userInterface/rxp_ui_features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Features <sup><sup>rxu-1</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rxp_userInterface/rxp_ui_extensions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extensions <sup><sup>rxu-2</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rxp_userInterface/rxp_ui_messages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Messages <sup><sup>rxu-3</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rxp_userInterface/rxp_ui_webContent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Web Content <sup><sup>rxu-4</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4">
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Solution Exercises
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Solution Exercises
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rxp_exercises/rxp_exe_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Abstract &amp; Best Practices
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_2">
        
          
          <label class="md-nav__link" for="__nav_3_4_2" id="__nav_3_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Macro Based Exercises
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_2">
            <span class="md-nav__icon md-icon"></span>
            Macro Based Exercises
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_2_1">
        
          
          <label class="md-nav__link" for="__nav_3_4_2_1" id="__nav_3_4_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Quick Docs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_4_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_2_1">
            <span class="md-nav__icon md-icon"></span>
            Quick Docs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rxp_exercises/macros/rxp_exe_Quick_Docs_PT1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Part 1 - Start Simple <sup><sup>rxe-m1</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rxp_exercises/macros/rxp_exe_Quick_Docs_PT2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Part 2 - Optimize<sup><sup>rxe-m2</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4">
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Deployment&nbsp;<i class="fa-solid fa-cloud-arrow-up" style="color: #ff0000;"></i>
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Deployment&nbsp;<i class="fa-solid fa-cloud-arrow-up" style="color: #ff0000;"></i>
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Deployment/dep_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployment Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Deployment/dep_prerequisites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployment Lab Prerequisites
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3">
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Control Hub
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Control Hub
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Deployment/dep_controlHub/dep_controlHub_prepDevices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Preparing Your Devices <sup><sup>dep-1.1</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Deployment/dep_controlHub/dep_controlHub_configTemplates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration Templates <sup><sup>dep-1.2</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Deployment/dep_controlHub/dep_controlHub_orgTemplates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Org-Wide Templates <sup><sup>dep-1.3</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Deployment/dep_controlHub/dep_controlHub_runCommands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Run Commands <sup><sup>dep-1.4</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Deployment/dep_controlHub/dep_controlHub_deployExtensions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deploy UI Extensions <sup><sup>dep-1.5</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Deployment/dep_controlHub/dep_controlHub_deployMacros/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deploy Macros <sup><sup>dep-1.6</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4">
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    CE-Deploy
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            CE-Deploy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Deployment/dep_ceDeploy/dep_ceDeploy_cloud_localVsCloud/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Local vs Cloud Auth <sup><sup>dep-2.1</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Deployment/dep_ceDeploy/dep_ceDeploy_cloud_downloadToken/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Download Webex Token <sup><sup>dep-2.2</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Deployment/dep_ceDeploy/dep_ceDeploy_cloud_runCommands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Run Commands <sup><sup>dep-2.3</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Deployment/dep_ceDeploy/dep_ceDeploy_cloud_deployBranding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Branding <sup><sup>dep-2.4</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Deployment/dep_ceDeploy/dep_ceDeploy_cloud_deployMacros/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Macros <sup><sup>dep-2.5</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Deployment/dep_ceDeploy/dep_ceDeploy_cloud_deployExtensions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UI Extensions <sup><sup>dep-2.6</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Deployment/dep_ceDeploy/dep_ceDeploy_cloud_deployLocalUsers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Local User Accounts <sup><sup>dep-2.7</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Deployment/dep_ceDeploy/dep_ceDeploy_cloud_backupsAndLogs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Device Backups and Logs <sup><sup>dep-2.8</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Deployment/dep_ceDeploy/dep_ceDeploy_cloud_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tools <sup><sup>dep-2.9</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Deployment/dep_ceDeploy/dep_ceDeploy_cloud_dashboards/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dashboards <sup><sup>dep-2.10</sup></sup>
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Deployment/dep_conclusion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployment Conclusion
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Resources/res_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tools&nbsp;<i class="fa-solid fa-gear"></i>
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6">
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Resources&nbsp;<i class="fa-solid fa-globe" style="color:#ffd903;"></i>
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Resources&nbsp;<i class="fa-solid fa-globe" style="color:#ffd903;"></i>
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Resources/res_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tools&nbsp;<i class="fa-solid fa-gear"></i>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Resources/res_guides/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Guides
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Resources/res_communities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Communities
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="accessing-the-xapi-via-the-macro-editor-section-rxp-6">Accessing the xAPI via the Macro Editor** <sub>(section rxp-6)</sub></h1>
<div class="admonition abstract">
<p class="admonition-title">Abstract</p>
<p>The Macro Editor is a <code>Web Based IDE</code> that's built into each Cisco Codec running <ins class="critic">ce9.2.X or higher (excluding the Sx10)</ins> that allows for the development of solutions using the <mark>Device xAPI and ES6 Javascript</mark>. In a sense, the Macro Editor is like a virtual room control processor built right into the product.</p>
<p>It's capable of running <ins class="critic">10 active macros</ins> at any given time and allows for storage of up to <mark>2mb of text across all files</mark> (Sounds small, but it's more than you think <img alt="😃" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f603.svg" title=":smiley:">).</p>
<p>You may have as many inactive macros as you can contain with the 2mb limit, which can be useful for storing information, organizing and modularizing work.</p>
<ul>
<li>For example, some developers in the community have implemented function libraries formatted as a macro, such as <ul>
<li><a href="https://github.com/cisco-ce/guido">Gui-Do</a>: A suite of functions that enables dynamic <abbr title="User Interface">UI</abbr> generation with the use of JSON Object</li>
<li><a href="https://github.com/ctg-tme/audio-zone-manager-library-macro/tree/main">Audio Zone Manager</a>: Or AZM is a suite of function that enables the mapping of audio microphones inputs to other resources for audio based automation in space.</li>
</ul>
</li>
</ul>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<div class="admonition example">
<p class="admonition-title">Note</p>
<p>This section is meant to teach your the structure of the xAPI when working the Macro Editor. </p>
<p>Though written in Javascript, this is not a javascript tutorial. There are links to relevant topics throughout the section in case you're stuck on any particular topic</p>
</div>
<p><ins class="critic">Part 3: Building a Customization using Macros</ins> will leverage the Macro Editor and the <abbr title="User Interface">UI</abbr> Extensions of your codec to develop a solution using the xAPI</p>
<p>Syntax covered here is not only relevant for the Macro Editor but also the <code>jsxapi</code> Node.Js module which is not covered in this Lab</p>
</div>
<div class="admonition important">
<p class="admonition-title">Section Requirements</p>
<p>Download the MacroPak below, these Macros will be used throughout this section</p>
<div class="grid cards" markdown>
<ul>
<li>
<p><i class="fa-solid fa-download"></i> <strong>Click the icon below to Download the MacroPak</strong> <i class="fa-solid fa-file-code"></i></p>
<hr>
<p></p><figure markdown="span">
      <a href="https://github.com/WebexCC-SA/LAB-1451/raw/refs/heads/main/docs/Main-Lab/DownloadContent/MacroPak.zip"><img alt="MacroPak" src="../images/cisco-logo-transparent.png" width="200"></a>
    <figcaption>MacroPak</figcaption>
</figure><p></p>
</li>
</ul>
</div>
</div>
<h2 id="enabling-macros-rxp-61"><strong>Enabling Macros</strong> <sub>(rxp-6.1)</sub></h2>
<div class="admonition blank">
<ul>
<li>Login to your Codec's Web <abbr title="User Interface">UI</abbr></li>
<li>Navigate to Settings&gt;Macro Editor<ul>
<li>The Macro Editor is disabled by Default, press enable</li>
</ul>
</li>
</ul>
<details class="tip" open="open">
<summary>Tip</summary>
<p>Enabling through the WebUI as we had above can be don via the xAPI as well.</p>
<p>Running <mark>xConfiguration Macros Mode: On</mark> does the same thing.</p>
<p>You can even run xConfigurations in bulk across your portfolio using Webex Control Hub or Ce-Deploy, both are covered in, regards to Macro Customization, part 4 of this lab.</p>
</details>
</div>
<h2 id="navigating-the-macro-editor-and-installing-the-macropak-rxp-62"><strong>Navigating the Macro Editor and installing the MacroPak</strong> <sub>(rxp-6.2)</sub></h2>
<details class="vidcast">
<summary>Vidcast: Macro Editor IDE Review</summary>
<p></p><div style="padding-bottom:56.25%; position:relative; display:block; width: 100%">
  <iframe src="https://app.vidcast.io/share/embed/d6dacbb3-9792-4d27-b1fa-434f2ff37f03" width="100%" height="100%" title="Macro Editor IDE Review" frameborder="0" loading="lazy" allowfullscreen style="position:absolute; top:0; left: 0;border: solid; border-radius:12px;"></iframe>
</div><p></p>
</details>
<details class="vidcast">
<summary>Vidcast: Installing the MacroPack</summary>
<p></p><div style="padding-bottom:56.25%; position:relative; display:block; width: 100%">
  <iframe src="https://app.vidcast.io/share/embed/f31a92e0-609d-430c-bb45-d834c52cb1d3" width="100%" height="100%" title="Installing MacroPak Files - WX1 2024 Lab 1451" frameborder="0" loading="lazy" allowfullscreen style="position:absolute; top:0; left: 0;border: solid; border-radius:12px;"></iframe>
</div><p></p>
</details>
<h2 id="executing-xcommands-rxp-63"><strong>Executing xCommands</strong> <sub>(rxp-6.3)</sub></h2>
<details class="lesson" open="open">
<summary>Lesson: Execute an xCommand <sub>(rxp-6.3.1)</sub></summary>
<p>All device xAPIs are referenced by the imported <code>xapi</code> object. By default, a new Macro will contain</p>
<div class="highlight"><span class="filename">xAPI Import</span><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>
</code></pre></div>
<p><a class="md-button md-button--primary" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import" target="_blank">
      Learn more about <strong>Imports</strong> <i class="fa-solid fa-square-up-right"></i>
</a></p>
<p>Unlike other ES6 Javascript environments, you only have access to base Javascript functions and techniques as well as the device's xAPI</p>
<ul>
<li>You're <strong><mark>NOT</mark></strong> able to import external libraries into this environment.</li>
</ul>
<p>All xAPI can be accessed by first referencing the <code>xapi</code> object following by the same command path using dot notation</p>
<div class="admonition example">
<p class="admonition-title">Click on the tabs to see how Terminal Syntax relates to Macro Syntax</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio"><input id="__tabbed_1_2" name="__tabbed_1" type="radio"><div class="tabbed-labels"><label for="__tabbed_1_1">Terminal Syntax</label><label for="__tabbed_1_2">Macro Syntax</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>xCommand<span class="w"> </span>Time<span class="w"> </span>DateTime<span class="w"> </span>Get

OK
*r<span class="w"> </span>DateTimeGetResult<span class="w"> </span><span class="o">(</span><span class="nv">status</span><span class="o">=</span>OK<span class="o">)</span>:<span class="w"> </span>
*r<span class="w"> </span>DateTimeGetResult<span class="w"> </span>Day:<span class="w"> </span><span class="m">24</span>
*r<span class="w"> </span>DateTimeGetResult<span class="w"> </span>Hour:<span class="w"> </span><span class="m">0</span>
*r<span class="w"> </span>DateTimeGetResult<span class="w"> </span>Minute:<span class="w"> </span><span class="m">47</span>
*r<span class="w"> </span>DateTimeGetResult<span class="w"> </span>Month:<span class="w"> </span><span class="m">9</span>
*r<span class="w"> </span>DateTimeGetResult<span class="w"> </span>Second:<span class="w"> </span><span class="m">1</span>
*r<span class="w"> </span>DateTimeGetResult<span class="w"> </span>Year:<span class="w"> </span><span class="m">2024</span>
**<span class="w"> </span>end
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">Time</span><span class="p">.</span><span class="nx">DateTime</span><span class="p">.</span><span class="nx">Get</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">time</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">time</span><span class="p">))</span>

<span class="cm">/* Log Output</span>
<span class="cm">{</span>
<span class="cm">  "Day": "24",</span>
<span class="cm">  "Hour": "0",</span>
<span class="cm">  "Minute": "47",</span>
<span class="cm">  "Month": "9",</span>
<span class="cm">  "Second": "44",</span>
<span class="cm">  "Year": "2024",</span>
<span class="cm">  "status": "OK"</span>
<span class="cm">}</span>
<span class="cm">*/</span>
</code></pre></div>
<details class="curious">
<summary><img alt="🤔" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f914.svg" title=":thinking:"> Why is <code>.then(time =&gt; console.log(time))</code> trailing the command?</summary>
<p>Well that's the nature of this environment. In a terminal session, the command is immediately followed by a response</p>
<p>But in working with the xAPI in a Macro or <code>jsxapi</code> NodeJs environment, the response is certainly there, but we need to capture in an object and then log it to the console.</p>
<p>Most, if not all, functions from the <code>xapi</code> object are Javascript Promises. When executed, they'll either resolve or reject (OK or Error) and you can handle them as you see fit in your automation.</p>
<p><a class="md-button md-button--primary" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank">
      Learn more about <strong>Promises</strong> <i class="fa-solid fa-square-up-right"></i>
</a></p>
<details class="tool">
<summary>To get a bit more technical</summary>
<p>In the Example above, we first call the <code>xCommand Time DateTime Get</code> command. JS Promises can leverage the <code>.then()</code> method, which allows us to take that value of a successful outcome and store it into another object, in this case <code>time</code>, and when <code>time</code> is populated with a value, we can immediately run a function <code>=&gt;</code> of this value to run additional processes. Here, we pass it into the in-built JS function; <code>console.log</code>, to log it into the Macro's log output.</p>
<p>If your function is rejected, then the <code>.catch()</code> method  can handle those outcomes in the same way <code>.then()</code> works on resolutions.</p>
</details>
</details>
</div>
</div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Parameters for Macro Syntax are setup as a JSON Object and must be passed into a function as a parameter</p>
<p><a class="md-button md-button--primary" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON" target="_blank">
  Learn more about <strong>JSON</strong> <i class="fa-solid fa-square-up-right"></i>
</a></p>
<p>At a high level, functions defined in the <code>xapi</code> can have 1 or 2 function parameters pass. One being the parameters for the xAPI call writing in a JSON Object [Represented by <code>myChildParams</code> below], the other for multiline content (if available) [Represented by <code>myMultiLineContent</code> below]</p>
<p>It's important to note that not all <code>xapi</code> functions have multiline input, but it's good to know where it's placed should there be any</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:1"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio"><div class="tabbed-labels"><label for="__tabbed_2_1">Parameter Example</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">myChildParams</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Parameter</span><span class="o">:</span><span class="w"> </span><span class="s1">'One'</span><span class="p">,</span><span class="w"> </span><span class="nx">Parameter</span><span class="o">:</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="nx">Parameter</span><span class="o">:</span><span class="w"> </span><span class="s1">'...'</span><span class="w"> </span><span class="p">};</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">myMultiLineContent</span><span class="o">=</span><span class="w"> </span><span class="sb">`...`</span><span class="p">;</span>

<span class="nx">xapi</span><span class="p">.</span><span class="nx">Parent</span><span class="p">.</span><span class="nx">Child</span><span class="p">(</span><span class="nx">myChildParams</span><span class="p">,</span><span class="w"> </span><span class="nx">myMultiLineContent</span><span class="p">);</span>
</code></pre></div>
<p><a class="md-button md-button--primary" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions" target="_blank">
      Learn more about <strong>Functions</strong> <i class="fa-solid fa-square-up-right"></i>
</a></p>
</div>
</div>
</div>
</div>
<ul>
<li>
<p><strong>xAPI:</strong> xCommand Video Selfview Set</p>
</li>
<li>
<p><strong>Task:</strong> </p>
<ul>
<li>Activate the <mark>xCommands_Lesson-1_MacroPak_2-6-3</mark> macro</li>
<li>Structure the xAPI Path above using Macro Syntax and apply the following parameters<ul>
<li>Mode: On</li>
<li>FullScreenMode: On</li>
<li>OnMonitorRole: First</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Save your Macro and monitor the Macro Console as well as the Device to see if you had a successful response</p>
</li>
<li>
<p>When Complete, deactivate the <mark>xCommands_Lesson-1_MacroPak_2-6-3</mark> macro</p>
</li>
</ul>
<details class="success">
<summary>View Successful Macro Syntax</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="3:3"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio"><input id="__tabbed_3_2" name="__tabbed_3" type="radio"><input id="__tabbed_3_3" name="__tabbed_3" type="radio"><div class="tabbed-labels"><label for="__tabbed_3_1">Simple Execution</label><label for="__tabbed_3_2">Promises &gt; <code>.then()</code> Method</label><label for="__tabbed_3_3">Promises &gt; Async Await</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="nx">xapi</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">Video</span><span class="p">.</span><span class="nx">Selfview</span><span class="p">.</span><span class="nb">Set</span><span class="p">({</span><span class="w"> </span><span class="nx">Mode</span><span class="o">:</span><span class="w"> </span><span class="s2">"On"</span><span class="p">,</span><span class="w"> </span><span class="nx">FullScreenMode</span><span class="o">:</span><span class="w"> </span><span class="s2">"On"</span><span class="p">,</span><span class="w"> </span><span class="nx">OnMonitorRole</span><span class="o">:</span><span class="w"> </span><span class="s2">"Off"</span><span class="w"> </span><span class="p">});</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="nx">xapi</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">Video</span><span class="p">.</span><span class="nx">Selfview</span><span class="p">.</span><span class="nb">Set</span><span class="p">({</span><span class="w"> </span><span class="nx">Mode</span><span class="o">:</span><span class="w"> </span><span class="s2">"On"</span><span class="p">,</span><span class="w"> </span><span class="nx">FullScreenMode</span><span class="o">:</span><span class="w"> </span><span class="s2">"On"</span><span class="p">,</span><span class="w"> </span><span class="nx">OnMonitorRole</span><span class="o">:</span><span class="w"> </span><span class="s2">"Off"</span><span class="w"> </span><span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="nx">resolution</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="c1">// Log the xAPI resolution</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Config.Video.Selfview.Set Resolution'</span><span class="p">,</span><span class="w"> </span><span class="nx">resolution</span><span class="p">);</span>

<span class="w">  </span><span class="cm">/* Run Additional Function Here*/</span>

<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="c1">// Log the xAPI rejection</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">'Config.Video.Selfview.Set Error'</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">);</span>

<span class="w">  </span><span class="cm">/* Run Additional Function Here*/</span>

<span class="p">});</span>
</code></pre></div>
<p><a class="md-button md-button--primary" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank">
      Learn more about <strong>Promises</strong> <i class="fa-solid fa-square-up-right"></i>
</a></p>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">setSelfview</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">parameters</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">runxAPI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">Video</span><span class="p">.</span><span class="nx">Selfview</span><span class="p">.</span><span class="nb">Set</span><span class="p">(</span><span class="nx">parameters</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Log the Resolution captured in a runxAPI object</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">runxAPI</span><span class="p">);</span>

<span class="w">    </span><span class="cm">/* Run Additional Function Here*/</span>

<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">(</span>

<span class="w">    </span><span class="c1">// Log the Rejection captured in a error object</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>

<span class="w">    </span><span class="cm">/* Run Additional Function Here*/</span>

<span class="w">  </span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// Run the setSelfview Function and pass in the Parameters for xCommand Video Selfview Set</span>
<span class="nx">setSelfview</span><span class="p">({</span><span class="w"> </span><span class="nx">Mode</span><span class="o">:</span><span class="w"> </span><span class="s2">"On"</span><span class="p">,</span><span class="w"> </span><span class="nx">FullScreenMode</span><span class="o">:</span><span class="w"> </span><span class="s2">"On"</span><span class="p">,</span><span class="w"> </span><span class="nx">OnMonitorRole</span><span class="o">:</span><span class="w"> </span><span class="s2">"Off"</span><span class="w"> </span><span class="p">});</span>
</code></pre></div>
<p><a class="md-button md-button--primary" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function" target="_blank">
      Learn more about <strong>Async Functions</strong> <i class="fa-solid fa-square-up-right"></i>
</a></p>
</div>
</div>
</div>
</details>
</details>
<details class="lesson">
<summary>Lesson: Execute an xCommand with multiple arguments with the same name <sub>(rxp-6.3.2)</sub></summary>
<p>In cases where we need to declare multiple arguments of the same name, rather than duplicating and re-running the parameters, we instead leverage Javascript's Array capabilities</p>
<p><a class="md-button md-button--primary" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">
  Learn more about <strong>Arrays</strong> <i class="fa-solid fa-square-up-right"></i>
</a></p>
<div class="admonition example">
<p class="admonition-title">Click on the tabs to see how Terminal Syntax relates to Macro Syntax</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio"><input id="__tabbed_4_2" name="__tabbed_4" type="radio"><div class="tabbed-labels"><label for="__tabbed_4_1">Terminal Syntax</label><label for="__tabbed_4_2">Macro Syntax</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p></p><div class="highlight"><pre><span></span><code>xParent<span class="w"> </span>Child<span class="w"> </span>ChildParam_X:<span class="w"> </span><span class="m">1</span>,<span class="w"> </span>ChildParam_X:<span class="w"> </span><span class="m">2</span>
</code></pre></div>
<br><p></p>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="nx">xapi</span><span class="p">.</span><span class="nx">Parent</span><span class="p">.</span><span class="nx">Child</span><span class="p">({</span>
<span class="w">  </span><span class="nx">ChildChildParam_X</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">]</span><span class="w"> </span><span class="c1">// Rather than calling ChildParam_X twice, we'll simply place both values we need into an Array</span>
<span class="p">})</span>
</code></pre></div>
</div>
</div>
</div>
</div>
<ul>
<li>
<p><strong>xAPI(s):</strong> </p>
<ul>
<li>xCommand Video Selfview Set</li>
<li>xCommand Video Input SetMainVideoSource</li>
</ul>
</li>
<li>
<p><strong>Task:</strong> </p>
<ul>
<li>Activate the <mark>xCommands_Lesson-2_MacroPak_2-6-3</mark> macro</li>
<li>Structure <mark>xCommand Video Input SetMainVideoSource</mark> using Macro Syntax and apply the following parameters, but assign the value <code>1</code> to ConnectorId twice</li>
<li>ConnectorId: 1</li>
<li>Layout: Equal</li>
<li>Add this xCommand to the <mark>showAndCompose()</mark> function</li>
<li>
<p>Save your Macro and monitor the Macro Console as well as the Device to see if you had a successful response</p>
</li>
<li>
<p>When Complete, deactivate the <mark>xCommands_Lesson-2_MacroPak_2-6-3</mark> macro</p>
</li>
</ul>
</li>
</ul>
<details class="success">
<summary>View Successful Macro Syntax</summary>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Lab Guide: https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_2/#263-executing-xcommands</span>
<span class="cm"> * </span>
<span class="cm"> * Lesson 2: Execute an xCommand with multiple arguments with the same name</span>
<span class="cm"> */</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">showAndComposeCamera</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">Video</span><span class="p">.</span><span class="nx">Selfview</span><span class="p">.</span><span class="nb">Set</span><span class="p">({</span><span class="w"> </span><span class="nx">Mode</span><span class="o">:</span><span class="w"> </span><span class="s1">'On'</span><span class="p">,</span><span class="w"> </span><span class="nx">FullscreenMode</span><span class="o">:</span><span class="w"> </span><span class="s1">'On'</span><span class="p">,</span><span class="w"> </span><span class="nx">OnMonitorRole</span><span class="o">:</span><span class="w"> </span><span class="s1">'First'</span><span class="w"> </span><span class="p">});</span>

<span class="w">  </span><span class="c1">// Enter your solution below this line</span>
<span class="w">  </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">Video</span><span class="p">.</span><span class="nx">Input</span><span class="p">.</span><span class="nx">SetMainVideoSource</span><span class="p">({</span>
<span class="w">    </span><span class="nx">ConnectorId</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">1</span><span class="p">],</span>
<span class="w">    </span><span class="nx">Layout</span><span class="o">:</span><span class="w"> </span><span class="s1">'Equal'</span>
<span class="w">  </span><span class="p">})</span>
<span class="w">  </span><span class="c1">// Don't go past this line</span>
<span class="p">}</span>

<span class="nx">showAndComposeCamera</span><span class="p">();</span>
</code></pre></div>
</details>
<p>&lt;!-- ??? challenge "Challenge: Log and Handle Errors"</p>
<div class="highlight"><pre><span></span><code>- Convert the `showAndComposeCamera()` function into an Async Function
- Wrap all xAPI references in a Try Catch block
- Add a console log for a Successful outcome
- Add a console log for an Error

- Save the Macro and observe the log

&lt;a class="md-button md-button--primary" href="../challengeAnswers/" target="_blank" &gt;
  Giving Up? Check out the Challenge Answers Page &lt;i class="fa-solid fa-square-up-right"&gt;&lt;/i&gt;
&lt;/a&gt; --&gt;
</code></pre></div>
</details>
<details class="lesson">
<summary>Lesson: Execute an xCommand with a multiline argument <sub>(rxp-6.3.3)</sub></summary>
<div class="admonition example">
<p class="admonition-title">Click on the tabs to see how Terminal Syntax relates to Macro Syntax</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio"><input id="__tabbed_5_2" name="__tabbed_5" type="radio"><div class="tabbed-labels"><label for="__tabbed_5_1">Terminal Syntax</label><label for="__tabbed_5_2">Macro Syntax</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p></p><div class="no-copy highlight"><pre><span></span><code>[Command Path]
[Multi Line Content]
.
</code></pre></div>
<br><p></p>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">myChildParams</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Parameter</span><span class="o">:</span><span class="w"> </span><span class="s1">'One'</span><span class="p">,</span><span class="w"> </span><span class="nx">Parameter</span><span class="o">:</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="nx">Parameter</span><span class="o">:</span><span class="w"> </span><span class="s1">'...'</span><span class="w"> </span><span class="p">};</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">myMultiLineContent</span><span class="o">=</span><span class="w"> </span><span class="sb">`...`</span><span class="p">;</span>

<span class="nx">xapi</span><span class="p">.</span><span class="nx">Parent</span><span class="p">.</span><span class="nx">Child</span><span class="p">(</span><span class="nx">myChildParams</span><span class="p">,</span><span class="w"> </span><span class="nx">myMultiLineContent</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
</div>
<ul>
<li>
<p><strong>xAPI(s):</strong> </p>
<ul>
<li>xCommand Video Selfview Set</li>
<li>xCommand Video Input SetMainVideoSource</li>
<li>xCommand UserInterface Extensions Panel Save</li>
</ul>
</li>
<li>
<p><strong>Task:</strong> </p>
<ul>
<li>Activate the <mark>xCommands_Lesson-3_MacroPak_2-6-3</mark> macro</li>
<li>Assign the value <code>wx1_lab_multilineCommand</code> to the <mark>myPanelId</mark> object</li>
<li>Assign the following <abbr title="Extensible Markup Language">XML</abbr> payload to the <mark>myUserinterface</mark> object
    <div class="highlight"><pre><span></span><code><span class="nt">&lt;Extensions&gt;</span>
<span class="w">  </span><span class="nt">&lt;Panel&gt;</span>
<span class="w">    </span><span class="nt">&lt;Order&gt;</span>1<span class="nt">&lt;/Order&gt;</span>
<span class="w">    </span><span class="nt">&lt;PanelId&gt;</span>wx1_lab_multilineCommand<span class="nt">&lt;/PanelId&gt;</span>
<span class="w">    </span><span class="nt">&lt;Location&gt;</span>HomeScreen<span class="nt">&lt;/Location&gt;</span>
<span class="w">    </span><span class="nt">&lt;Icon&gt;</span>Info<span class="nt">&lt;/Icon&gt;</span>
<span class="w">    </span><span class="nt">&lt;Color&gt;</span>#00FFFF<span class="nt">&lt;/Color&gt;</span>
<span class="w">    </span><span class="nt">&lt;Name&gt;</span>MultiLine<span class="w"> </span>Command<span class="w"> </span>[2.6.3]<span class="nt">&lt;/Name&gt;</span>
<span class="w">    </span><span class="nt">&lt;ActivityType&gt;</span>Custom<span class="nt">&lt;/ActivityType&gt;</span>
<span class="w">  </span><span class="nt">&lt;/Panel&gt;</span>
<span class="nt">&lt;/Extensions&gt;</span>
</code></pre></div></li>
<li>Structure <mark>xCommand UserInterface Extensions Panel Save</mark> using Macro Syntax and apply the following parameters<ul>
<li>PanelId [Use the <mark>myPanelId</mark> object for this field]</li>
<li>body [Use the <mark>myUserinterfaceXML</mark> object for this field] (This is a MultiLine Argument)</li>
</ul>
</li>
<li>Add this xCommand to the <mark>buildUserInterface()</mark> function</li>
<li>
<p>Save your Macro and monitor the Macro Console as well as the Device to see if you had a successful response</p>
</li>
<li>
<p>When Complete, deactivate the <mark>xCommands_Lesson-3_MacroPak_2-6-3</mark> macro</p>
</li>
</ul>
</li>
</ul>
<details class="success">
<summary>View Successful Macro Syntax and Log output</summary>
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Lab Guide: https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_2/#263-executing-xcommands</span>
<span class="cm"> * </span>
<span class="cm"> * Lesson 3: Execute an xCommand with a multiline argument</span>
<span class="cm"> */</span>

<span class="c1">// Assign values to these Objects</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">myPanelId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'wx1_lab_multilineCommand'</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">myUserinterfaceXML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`&lt;Extensions&gt;</span>
<span class="sb">      &lt;Panel&gt;</span>
<span class="sb">        &lt;Order&gt;1&lt;/Order&gt;</span>
<span class="sb">        &lt;PanelId&gt;wx1_lab_multilineCommand&lt;/PanelId&gt;</span>
<span class="sb">        &lt;Location&gt;HomeScreen&lt;/Location&gt;</span>
<span class="sb">        &lt;Icon&gt;Info&lt;/Icon&gt;</span>
<span class="sb">        &lt;Color&gt;#00FFFF&lt;/Color&gt;</span>
<span class="sb">        &lt;Name&gt;MultiLine Command [2.6.3]&lt;/Name&gt;</span>
<span class="sb">        &lt;ActivityType&gt;Custom&lt;/ActivityType&gt;</span>
<span class="sb">      &lt;/Panel&gt;</span>
<span class="sb">    &lt;/Extensions&gt;`</span>


<span class="kd">const</span><span class="w"> </span><span class="nx">buildUserInterface</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(){</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Enter your solution below this line</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">saveUI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">Extensions</span><span class="p">.</span><span class="nx">Panel</span><span class="p">.</span><span class="nx">Save</span><span class="p">({</span><span class="w"> </span><span class="nx">PanelId</span><span class="o">:</span><span class="w"> </span><span class="nx">myPanelId</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nx">myUserinterfaceXML</span><span class="p">)</span>

<span class="w">    </span><span class="c1">// Don't go past this line</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Panel [</span><span class="si">${</span><span class="nx">myPanelId</span><span class="si">}</span><span class="sb">] saved to the codec`</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>


<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">cleanupLesson2</span><span class="p">(){</span>
<span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">Video</span><span class="p">.</span><span class="nx">Selfview</span><span class="p">.</span><span class="nb">Set</span><span class="p">({</span><span class="nx">Mode</span><span class="o">:</span><span class="w"> </span><span class="s1">'Off'</span><span class="p">});</span>
<span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">Video</span><span class="p">.</span><span class="nx">Input</span><span class="p">.</span><span class="nx">SetMainVideoSource</span><span class="p">({</span><span class="nx">ConnectorId</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">Layout</span><span class="o">:</span><span class="w"> </span><span class="s1">'Equal'</span><span class="p">});</span>
<span class="p">}</span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">init</span><span class="p">(){</span>
<span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">cleanupLesson2</span><span class="p">()</span>

<span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">buildUserInterface</span><span class="p">();</span>
<span class="p">}</span>

<span class="nx">init</span><span class="p">();</span>
</code></pre></div>
</details>
<details class="curious">
<summary><img alt="🤔" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f914.svg" title=":thinking:"> Having issues with saving Strings to Objects in your macro?</summary>
<p>There are 3 ways to define string literals</p>
<p></p><div>
    <table>
      <thead>
          <tr>
              <th>Key</th>
              <th>Name</th>
              <th>Example</th>
              <th>Extra Properties</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td><code>'</code></td>
              <td style="white-space: nowrap;">Single Quote</td>
              <td style="white-space: nowrap;"><code>const myString = "It's a sunny day."</code></td>
              <td>Can encapsulate a string with single quotes <code>'</code> inside</td>
          </tr>
          <tr>
              <td><code>"</code></td>
              <td style="white-space: nowrap;">Double Quote</td>
              <td style="white-space: nowrap;"><code>const myOtherString = 'They said, "Hello!"';</code></td>
              <td>Can encapsulate a string with double quotes <code>"</code> inside</td>
          </tr>
          <tr>
              <td><code>`</code></td>
              <td style="white-space: nowrap;">Backtick Quote</td>
              <td style="white-space: nowrap;"><code>const myFinalString = <code>They didn't say "World"</code></code></td>
              <td>Can encapsulate double and single quotes, allows for multiline strings, allows for string interpolation</td>
          </tr>
      </tbody>
  </table>
</div><p></p>
<p><a class="md-button md-button--primary" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">
  Learn more about <strong>Strings</strong> <i class="fa-solid fa-square-up-right"></i>
</a></p>
</details>
</details>
<details class="lesson">
<summary>Lesson: Execute an xCommand which generates data and responds <sub>(rxp-6.3.4)</sub></summary>
<p>When collecting data from an xCommand in the Macro Editor, you either need to use the <code>.then()</code> method and log that value to the console or use an Async function to capture the value of that xCommand into a object, then log that object</p>
<ul>
<li>
<p><strong>xAPI:</strong> xCommand UserInterface Extensions List</p>
</li>
<li>
<p><strong>Task:</strong></p>
<ul>
<li>Activate the <mark>xCommands_Lesson-4_MacroPak_2-6-3</mark> macro</li>
<li>
<p>Structure <mark>xCommand UserInterface Extensions List</mark> using Macro Syntax and do 1 of the following</p>
<ul>
<li>
<p>Use <code>.then()</code> to capture the value of <mark>xCommand UserInterface Extensions List</mark> then log that value to the console</p>
<p><strong>Or<strong></strong></strong></p><strong><strong>
</strong></strong></li><strong><strong>
<li>
<p>declare an async function called <code>checkExtensions</code>, place <mark>xCommand UserInterface Extensions List</mark> written in Macro Syntax</p>
<ul>
<li>Wrap that in a Try Catch statement</li>
<li>Assign the value of the xAPI to an object</li>
<li>Then log the value of that object to the console</li>
</ul>
</li>
</strong></strong></ul><strong><strong>
</strong></strong></li><strong><strong>
<li>
<p>Save your Macro and monitor the Macro Console as well as the Device to see if you had a successful response</p>
</li>
<li>
<p>When Complete, deactivate the <mark>xCommands_Lesson-4_MacroPak_2-6-3</mark> macro</p>
</li>
</strong></strong></ul><strong><strong>
</strong></strong></li><strong><strong>
</strong></strong></ul><strong><strong>
<p></p><div style="display: flex; gap: 10px;">
    <a class="md-button md-button--primary" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank">
        Learn more about <strong>Promises</strong> <i class="fa-solid fa-square-up-right"></i>
    </a>
    <a class="md-button md-button--primary" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function" target="_blank">
        Learn more about <strong>Async Functions</strong> <i class="fa-solid fa-square-up-right"></i>
    </a>
</div><p></p>
<details class="success">
<summary>View Successful Macro Syntax and Log output</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio"><input id="__tabbed_6_2" name="__tabbed_6" type="radio"><div class="tabbed-labels"><label for="__tabbed_6_1">Using <code>.then()</code></label><label for="__tabbed_6_2">Using <code>Async Await</code></label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Lab Guide: https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_2/#263-executing-xcommands</span>
<span class="cm"> * </span>
<span class="cm"> * Lesson 4: Execute an xCommand which generates data and responds</span>
<span class="cm"> */</span>

<span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">Extensions</span><span class="p">.</span><span class="nx">List</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">ext</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ext</span><span class="p">);</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Lab Guide: https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_2/#263-executing-xcommands</span>
<span class="cm"> * </span>
<span class="cm"> * Lesson 4: Execute an xCommand which generates data and responds</span>
<span class="cm"> */</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">checkExtensions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">getExtensions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">Extensions</span><span class="p">.</span><span class="nx">List</span><span class="p">();</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getExtensions</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">};</span>

<span class="nx">checkExtensions</span><span class="p">();</span>
</code></pre></div>
</div>
</div>
</div>
</details>
</strong></strong></details><strong><strong>
<h2 id="setting-getting-and-subscribing-to-xconfigurations-rxp-64"><strong>Setting, Getting and Subscribing to xConfigurations</strong> <sub>(rxp-6.4)</sub></h2>
<div class="admonition abstract">
<p class="admonition-title">Abstract</p>
<p>Getting xConfiguration values, and later on xStatus Values, use the nearly same techniques for xCommands that generate data and respond.</p>
<p>However, when <mark>Getting</mark> an xConfiguration or an xStatus, you'll need to add the <code>.get()</code> method at the end of the xAPI call.</p>
<p>Subsequently, when <mark>Setting</mark> an xConfiguration, you'll need to add the <code>.set()</code> method at the end of the xAPI call.</p>
<div class="admonition example">
<p class="admonition-title">Compare Macro Command vs Config syntax</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:3"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio"><input id="__tabbed_7_2" name="__tabbed_7" type="radio"><input id="__tabbed_7_3" name="__tabbed_7" type="radio"><div class="tabbed-labels"><label for="__tabbed_7_1">xCommands</label><label for="__tabbed_7_2">xConfigurations Get</label><label for="__tabbed_7_3">xConfigurations Set</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>xapi.<mark>Command</mark>.ChildPath <mark>(childParameter, childMultiLine)</mark></p>
</div>
<div class="tabbed-block">
<p>xapi.<mark>Config</mark>.ChildPath <mark>.get()</mark></p>
</div>
<div class="tabbed-block">
<p>xapi.<mark>Config</mark>.ChildPath <mark>.get(<ins class="critic">'ChildValue'</ins>)</mark></p>
</div>
</div>
</div>
</div>
<div class="admonition important">
<p>We'll continue the remainder of the examples with only Async Await syntax, as a best practice, but if you're familiar with <code>.then()</code>, <code>.catch()</code> and <code>.finally()</code> syntax and prefer writing like that, feel free to do so</p>
</div>
</div>
<details class="lesson" open="open">
<summary>Lesson: Get an xConfiguration Value <sub>(rxp-6.4.1)</sub></summary>
<ul>
<li>
<p><strong>xAPI:</strong> xConfig Audio DefaultVolume</p>
</li>
<li>
<p><strong>Task:</strong></p>
<ul>
<li>Activate the <mark>xConfigs_Lesson-1_MacroPak_2-6-4</mark> macro</li>
<li>Modify the <code>getConfigValue()</code> function by replacing the existing value of <code>targetConfig</code> with <mark>xConfig Audio DefaultVolume</mark> written in Macro Syntax</li>
<li>
<p>Save your Macro and monitor the Macro Console as well as the Device to see if you had a successful response</p>
</li>
<li>
<p>When Complete, deactivate the <mark>xConfigs_Lesson-1_MacroPak_2-6-4</mark> macro</p>
</li>
</ul>
</li>
</ul>
<details>
<summary>View Successful Macro Syntax and Log output</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="8:2"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio"><input id="__tabbed_8_2" name="__tabbed_8" type="radio"><div class="tabbed-labels"><label for="__tabbed_8_1">Macro</label><label for="__tabbed_8_2">Log Output</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Lab Guide: https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_2/#264-setting-getting-and-subscribing-to-xconfigurations</span>
<span class="cm"> * </span>
<span class="cm"> * Lesson 1: Getting an xConfiguration Value</span>
<span class="cm"> */</span>

<span class="c1">// Enter your solution below this line</span>


<span class="kd">const</span><span class="w"> </span><span class="nx">getConfigValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Modify targetConfig below</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">targetConfig</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">Audio</span><span class="p">.</span><span class="nx">DefaultVolume</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Don't go past this line</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'DefaultVolume:'</span><span class="p">,</span><span class="w"> </span><span class="nx">targetConfig</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">};</span>

<span class="nx">getConfigValue</span><span class="p">();</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<table>
<thead>
<tr>
<th>Timestamp</th>
<th>Source</th>
<th>Message</th>
</tr>
</thead>
<tbody>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Runtime stopped!</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Using XAPI transport: WebSocket</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Starting macros...</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-1_MacroPak_2-6-4</td>
<td>QJS Ready</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-1_MacroPak_2-6-4</td>
<td>DefaultVolume: 75</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</details>
</details>
<details class="lesson">
<summary>Lesson: Set a new xConfiguration Value <sub>(rxp-6.4.2)</sub></summary>
<ul>
<li>
<p><strong>xAPI:</strong> xConfig Audio DefaultVolume</p>
</li>
<li>
<p><strong>Task:</strong></p>
<ul>
<li>Activate the <mark>xConfigs_Lesson-2_MacroPak_2-6-4</mark> macro</li>
<li>Modify the <code>setConfigValue()</code> function by replacing the existing value of <code>targetConfig</code> with <mark>xConfig Audio DefaultVolume</mark> written in Macro Syntax</li>
<li>Instead of hardcoding the value we want to set, place the <code>value</code> parameter into the <code>.set(value)</code> method instead<ul>
<li>This will allow us to change this value easier as we call the function in different parts of our script</li>
</ul>
</li>
<li>
<p>Save your Macro and monitor the Macro Console as well as the Device to see if you had a successful response</p>
</li>
<li>
<p>When Complete, deactivate the <mark>xConfigs_Lesson-2_MacroPak_2-6-4</mark> macro</p>
</li>
</ul>
</li>
</ul>
<details>
<summary>View Successful Macro Syntax and Log output</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="9:2"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio"><input id="__tabbed_9_2" name="__tabbed_9" type="radio"><div class="tabbed-labels"><label for="__tabbed_9_1">Macro</label><label for="__tabbed_9_2">Log Output</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Lab Guide: https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_2/#264-setting-getting-and-subscribing-to-xconfigurations</span>
<span class="cm"> * </span>
<span class="cm"> * Lesson 2: Set a new xConfiguration Value</span>
<span class="cm"> */</span>

<span class="c1">// Enter your solution below this line</span>


<span class="kd">const</span><span class="w"> </span><span class="nx">setConfigValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">50</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Modify targetConfig below</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">targetConfig</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">Audio</span><span class="p">.</span><span class="nx">DefaultVolume</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Don't go past this line</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">'DefaultVolume Set'</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">};</span>


<span class="kd">const</span><span class="w"> </span><span class="nx">getConfigValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">targetConfig</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">Audio</span><span class="p">.</span><span class="nx">DefaultVolume</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'DefaultVolume:'</span><span class="p">,</span><span class="w"> </span><span class="nx">targetConfig</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">};</span>

<span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">init</span><span class="p">(){</span>

<span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">setConfigValue</span><span class="p">(</span><span class="mf">100</span><span class="p">);</span><span class="w"> </span><span class="c1">// &lt;-- Change this Value [0-100] and Resave</span>

<span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">getConfigValue</span><span class="p">();</span>
<span class="p">}</span>

<span class="nx">init</span><span class="p">();</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<table>
<thead>
<tr>
<th>Timestamp</th>
<th>Source</th>
<th>Message</th>
</tr>
</thead>
<tbody>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Runtime stopped!</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Using XAPI transport: WebSocket</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Starting macros...</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-2_MacroPak_2-6-4</td>
<td>QJS Ready</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-2_MacroPak_2-6-4</td>
<td>DefaultVolume: [Some Value]</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</details>
</details>
<details class="lesson">
<summary>Lesson: Get multiple xConfigurations under a Common Node <sub>(rxp-6.4.3)</sub></summary>
<ul>
<li>
<p><strong>xAPI:</strong> xConfig Audio</p>
</li>
<li>
<p><strong>Task:</strong></p>
<ul>
<li>Activate the <mark>xConfigs_Lesson-3_MacroPak_2-6-4</mark> macro</li>
<li>Modify the <code>getConfigValue()</code> function by replacing the existing value of <code>targetConfig</code> with <mark>xConfig Audio</mark> written in Macro Syntax</li>
<li>
<p>Save your Macro and monitor the Macro Console as well as the Device to see if you had a successful response</p>
</li>
<li>
<p>When Complete, deactivate the <mark>xConfigs_Lesson-3_MacroPak_2-6-4</mark> macro</p>
</li>
</ul>
</li>
</ul>
<details>
<summary>View Successful Macro Syntax and Log output</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="10:2"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio"><input id="__tabbed_10_2" name="__tabbed_10" type="radio"><div class="tabbed-labels"><label for="__tabbed_10_1">Macro</label><label for="__tabbed_10_2">Log Output</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Lab Guide: https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_2/#264-setting-getting-and-subscribing-to-xconfigurations</span>
<span class="cm"> * </span>
<span class="cm"> * Lesson 1: Getting an xConfiguration Value</span>
<span class="cm"> */</span>

<span class="c1">// Enter your solution below this line</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">getConfigValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Modify targetConfig below</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">targetConfig</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">Audio</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Don't go past this line</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'DefaultVolume:'</span><span class="p">,</span><span class="w"> </span><span class="nx">targetConfig</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">};</span>

<span class="nx">getConfigValue</span><span class="p">();</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<table>
<thead>
<tr>
<th>Timestamp</th>
<th>Source</th>
<th>Message</th>
</tr>
</thead>
<tbody>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Runtime stopped!</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Using XAPI transport: WebSocket</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Starting macros...</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-3_MacroPak_2-6-4</td>
<td>QJS Ready</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-3_MacroPak_2-6-4</td>
<td><code>{"DefaultVolume":"100","Ethernet":{"Encryption":"Required","SAPDiscovery":{"Address":"239.255.255.255","Mode":"Off"}},"Input":{"Ethernet":[{"Channel":[{"Gain":"45","Mode":"On","Pan":"Mono","Zone":"1","id":"1"},{"Gain":"45","Mode":"On","Pan":"Mono","Zone":"1","id":"2"},{"Gain":"45","Mode":"On","Pan":"Mono","Zone":"1","id":"3"},{"Gain":"45","Mode":"On","Pan":"Mono","Zone":"1","id":"4"},{"Gain":"45","Mode":"On","Pan":"Mono","Zone":"1","id":"5"},{"Gain":"45","Mode":"On","Pan":"Mono","Zone":"1","id":"6"},{"... And the list goes on"}],"EchoControl":{"Mode":"On","NoiseReduction":"On"},"Equalizer":{"ID":"1","Mode":"Off"},"Mode":"On","id":"1"}]}}{..."And the List Goes On"}</code></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</details>
</details>
<details class="lesson">
<summary>Lesson: Subscribe and Unsubscribe to an xConfiguration <sub>(rxp-6.4.4)</sub></summary>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Subscriptions in the Macro Editor introduce another method we can append to the end of the path called <code>.on()</code></p>
<p><code>.on()</code> allows us to subscribe to any changes in xConfigurations, xStatuses and xEvents until the script has either stopped or until the xAPI path is unsubscribed too</p>
<p><code>.on()</code> expect an object, similar to using <code>.then()</code> for you to place the incoming data and run function off of it</p>
<div class="admonition example">
<p class="admonition-title">Click on the tabs to see how Terminal Syntax relates to Macro Syntax</p>
<div class="tabbed-set tabbed-alternate" data-tabs="11:2"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio"><input id="__tabbed_11_2" name="__tabbed_11" type="radio"><div class="tabbed-labels"><label for="__tabbed_11_1">Terminal Syntax</label><label for="__tabbed_11_2">Macro Syntax</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>xFeedback<span class="w"> </span>Register<span class="w"> </span>Configuration/Child/Child
**<span class="w"> </span>end

OK
*c<span class="w"> </span>xConfiguration<span class="w"> </span>Child<span class="w"> </span>Child<span class="w"> </span>Value:<span class="w"> </span><span class="m">85</span>
**<span class="w"> </span>end
*c<span class="w"> </span>xConfiguration<span class="w"> </span>Child<span class="w"> </span>Child<span class="w"> </span>Value:<span class="w"> </span><span class="m">44</span>
**<span class="w"> </span>end
*c<span class="w"> </span>xConfiguration<span class="w"> </span>Child<span class="w"> </span>Child<span class="w"> </span>Value:<span class="w"> </span><span class="m">36</span>
**<span class="w"> </span>end
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="nx">xapi</span><span class="p">.</span><span class="nx">Configuration</span><span class="p">.</span><span class="nx">Child</span><span class="p">.</span><span class="nx">Child</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">ChildValue</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'New ChildValue:'</span><span class="p">,</span><span class="w"> </span><span class="nx">ChildValue</span><span class="p">);</span>
<span class="p">});</span>

<span class="cm">/* Log Output</span>
<span class="cm">New ChildValue: 85</span>
<span class="cm">New ChildValue: 44</span>
<span class="cm">New ChildValue: 36</span>
<span class="cm">*/</span>
</code></pre></div>
</div>
</div>
</div>
</div>
</div>
<ul>
<li>
<p><strong>xAPI:</strong> xConfiguration Audio DefaultVolume</p>
</li>
<li>
<p><strong>Task</strong>:</p>
<ul>
<li>Activate the <mark>xConfigs_Lesson-4_MacroPak_2-6-4</mark> macro</li>
<li>Modify the <code>subscribeToDefaultVolume</code> object by replacing it's value with <mark>xConfig Audio</mark> written in Macro Syntax using the <code>.on()</code> method<ul>
<li>In order to unsubscribe, we need to assign our xAPI subscription to an object, so we can later call it, which will end it's subscription</li>
<li>For example, after you assign the <mark>subscribeToDefaultVolume</mark> properly, running <mark>subscribeToDefaultVolume</mark><ins class="critic">()</ins> will stop your active subscription</li>
</ul>
</li>
<li>
<p>Save your Macro and monitor the Macro Console as well as the Device to see if you had a successful response</p>
<ul>
<li>NOTE: This macro will automatically unsubscribe for you. Review those steps, to get a better understand as to how we unsubscribe.</li>
</ul>
</li>
<li>
<p>When Complete, deactivate the <mark>xConfigs_Lesson-4_MacroPak_2-6-4</mark> macro</p>
</li>
</ul>
</li>
</ul>
<details class="success">
<summary>View Successful Macro Syntax and Log output</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="12:2"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio"><input id="__tabbed_12_2" name="__tabbed_12" type="radio"><div class="tabbed-labels"><label for="__tabbed_12_1">Macro</label><label for="__tabbed_12_2">Log Output</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Lab Guide: https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_2/#264-setting-getting-and-subscribing-to-xconfigurations</span>
<span class="cm"> * </span>
<span class="cm"> * Lesson 4: Subscribe and Unsubscribe to an xConfiguration</span>
<span class="cm">*/</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">delay_in_seconds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">10</span><span class="p">;</span>

<span class="c1">// Edit this Object to include your xConfiguration Subscription</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">subscribeToDefaultVolume</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">Audio</span><span class="p">.</span><span class="nx">DefaultVolume</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">event</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'DefaultVolume Set to:'</span><span class="p">,</span><span class="w"> </span><span class="nx">event</span><span class="p">)</span>
<span class="p">})</span>

<span class="c1">// Do not edit past this line, but feel free to review what's going on :)</span>

<span class="c1">// Here, we use JS Timeouts to set an action to run after X seconds. Timeouts use milliseconds, hence why we multiply by 1000</span>
<span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="nx">subscribeToDefaultVolume</span><span class="p">();</span><span class="w"> </span><span class="c1">//&lt;-- By calling the Object we assigned our Subscription too as a function(), we will unsubscribe from it</span>

<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s2">"DefaultVolume Subscription stopped!"</span><span class="p">);</span>

<span class="p">},</span><span class="w"> </span><span class="nx">delay_in_seconds</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1000</span><span class="p">)</span>


<span class="c1">// Here, we're randomly assigning a value between 1 and 100 to the Default Volume, so we can see that configuration on our Subscription</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">setRandomDefaultVolume</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">randomValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">100</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>

<span class="w">  </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">Audio</span><span class="p">.</span><span class="nx">DefaultVolume</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">randomValue</span><span class="p">);</span>
<span class="p">}</span>


<span class="c1">// This countdown is used to help you visualize when the process will complete it's course</span>
<span class="c1">// We use console.warn to have this countdown print in another color in the Macro Console</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">countdown</span><span class="p">(</span><span class="nx">startNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">currentNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">startNumber</span><span class="p">;</span>

<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="sb">`DefaultVolume Subscription stopping in [</span><span class="si">${</span><span class="nx">currentNumber</span><span class="si">}</span><span class="sb">] seconds`</span><span class="p">);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">setInterval</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">currentNumber</span><span class="o">--</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">currentNumber</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="sb">`DefaultVolume Subscription stopping in [</span><span class="si">${</span><span class="nx">currentNumber</span><span class="si">}</span><span class="sb">] seconds`</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">currentNumber</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">interval</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="mf">1000</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">init</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">setInterval</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setRandomDefaultVolume</span><span class="p">();</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="mf">500</span><span class="p">)</span>

<span class="w">  </span><span class="nx">countdown</span><span class="p">(</span><span class="nx">delay_in_seconds</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">init</span><span class="p">();</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<table>
<thead>
<tr>
<th>Time</th>
<th>Source</th>
<th>Message</th>
</tr>
</thead>
<tbody>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Runtime stopped!</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Using XAPI transport: WebSocket</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Starting macros...</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-4_MacroPak_2-6-4</td>
<td>DefaultVolume Subscription stopping in [5] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-4_MacroPak_2-6-4</td>
<td>QJS Ready</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-4_MacroPak_2-6-4</td>
<td>DefaultVolume Set to: 70</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-4_MacroPak_2-6-4</td>
<td>DefaultVolume Subscription stopping in [4] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-4_MacroPak_2-6-4</td>
<td>DefaultVolume Set to: 48</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-4_MacroPak_2-6-4</td>
<td>DefaultVolume Set to: 13</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-4_MacroPak_2-6-4</td>
<td>DefaultVolume Subscription stopping in [3] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-4_MacroPak_2-6-4</td>
<td>DefaultVolume Set to: 92</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-4_MacroPak_2-6-4</td>
<td>DefaultVolume Set to: 52</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-4_MacroPak_2-6-4</td>
<td>DefaultVolume Subscription stopping in [2] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-4_MacroPak_2-6-4</td>
<td>DefaultVolume Set to: 46</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-4_MacroPak_2-6-4</td>
<td>DefaultVolume Set to: 69</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-4_MacroPak_2-6-4</td>
<td>DefaultVolume Subscription stopping in [1] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-4_MacroPak_2-6-4</td>
<td>DefaultVolume Set to: 21</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-4_MacroPak_2-6-4</td>
<td>DefaultVolume Set to: 57</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-4_MacroPak_2-6-4</td>
<td>DefaultVolume Subscription stopped!</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</details>
</details>
<details class="lesson">
<summary>Lesson: Subscribe and Unsubscribe to Multiple xConfigurations under a Common Node <sub>(rxp-6.4.5)</sub></summary>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Just like we can subscribe to 1 point of interest in an xConfig branch, we can subscribe to a Higher Common Node as well</p>
<p>We'll do so for the Airplay Config section of you codec</p>
</div>
<ul>
<li>
<p><strong>xAPI:</strong> xConfiguration Video Input Airplay</p>
</li>
<li>
<p><strong>Task</strong>:</p>
<ul>
<li>Activate the <mark>xConfigs_Lesson-5_MacroPak_2-6-4</mark> macro</li>
<li>Modify the <code>subscribeToAirplay</code> object by replacing it's value with <mark>xConfiguration Video Input Airplay</mark> written in Macro Syntax using the <code>.on()</code> method<ul>
<li>In order to unsubscribe, we need to assign our xAPI subscription to an object, so we can later call it, which will end it's subscription</li>
<li>For example, after you assign the <mark>subscribeToAirplay</mark> properly, running <mark>subscribeToAirplay</mark><ins class="critic">()</ins> will stop your active subscription</li>
</ul>
</li>
<li>
<p>Save your Macro and monitor the Macro Console as well as the Device to see if you had a successful response</p>
<ul>
<li>NOTE: This macro will automatically unsubscribe for you. Review those steps, to get a better understand as to how we unsubscribe.</li>
</ul>
</li>
<li>
<p>When Complete, deactivate the <mark>xConfigs_Lesson-5_MacroPak_2-6-4</mark> macro</p>
</li>
</ul>
</li>
</ul>
<details class="success">
<summary>View Successful Macro Syntax and Log output</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="13:2"><input checked="checked" id="__tabbed_13_1" name="__tabbed_13" type="radio"><input id="__tabbed_13_2" name="__tabbed_13" type="radio"><div class="tabbed-labels"><label for="__tabbed_13_1">Macro</label><label for="__tabbed_13_2">Log Output</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Lab Guide: https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_2/#264-setting-getting-and-subscribing-to-xconfigurations</span>
<span class="cm"> * </span>
<span class="cm"> * Lesson 5: Subscribe and Unsubscribe to Multiple xConfigurations under a Common Node</span>
<span class="cm"> */</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">delay_in_seconds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">5</span><span class="p">;</span>

<span class="c1">// Edit this Object to include your xConfiguration Subscription</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">subscribeToAirplay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">Video</span><span class="p">.</span><span class="nx">Input</span><span class="p">.</span><span class="nx">Airplay</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">event</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Airplay Changes:'</span><span class="p">,</span><span class="w"> </span><span class="nx">event</span><span class="p">)</span>
<span class="p">})</span>

<span class="c1">// Do not edit past this line, but feel free to review what's going on :)</span>

<span class="c1">// Here, we use JS Timeouts to set an action to run after X seconds. Timeouts use milliseconds, hence why we multiply by 1000</span>
<span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="nx">subscribeToAirplay</span><span class="p">();</span><span class="w"> </span><span class="c1">//&lt;-- By calling the Object we assigned our Subscription too as a function(), we will unsubscribe from it</span>

<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s2">"Airplay Subscription stopped!"</span><span class="p">);</span>

<span class="p">},</span><span class="w"> </span><span class="nx">delay_in_seconds</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1000</span><span class="p">)</span>


<span class="c1">// Here, we're randomly assigning a values to the Airplay config, so we can see that configuration on our Subscription</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">setRandomAirplayConfigs</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">randomNumber</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">10</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">randomPass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="nx">randomNumber</span><span class="p">()</span><span class="si">}${</span><span class="nx">randomNumber</span><span class="p">()</span><span class="si">}${</span><span class="nx">randomNumber</span><span class="p">()</span><span class="si">}${</span><span class="nx">randomNumber</span><span class="p">()</span><span class="si">}</span><span class="sb">`</span>

<span class="w">  </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">Video</span><span class="p">.</span><span class="nx">Input</span><span class="p">.</span><span class="nx">AirPlay</span><span class="p">.</span><span class="nx">Mode</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s2">"On"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">"Off"</span><span class="p">);</span>

<span class="w">  </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">Video</span><span class="p">.</span><span class="nx">Input</span><span class="p">.</span><span class="nx">AirPlay</span><span class="p">.</span><span class="nx">Beacon</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s2">"Auto"</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">"Off"</span><span class="p">);</span>

<span class="w">  </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">Video</span><span class="p">.</span><span class="nx">Input</span><span class="p">.</span><span class="nx">AirPlay</span><span class="p">.</span><span class="nx">Password</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">randomPass</span><span class="p">);</span>
<span class="p">}</span>


<span class="c1">// This countdown is used to help you visualize when the process will complete it's course</span>
<span class="c1">// We use console.warn to have this countdown print in another color in the Macro Console</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">countdown</span><span class="p">(</span><span class="nx">startNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">currentNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">startNumber</span><span class="p">;</span>

<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="sb">`Airplay Subscription stopping in [</span><span class="si">${</span><span class="nx">currentNumber</span><span class="si">}</span><span class="sb">] seconds`</span><span class="p">);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">setInterval</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">currentNumber</span><span class="o">--</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">currentNumber</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="sb">`Airplay Subscription stopping in [</span><span class="si">${</span><span class="nx">currentNumber</span><span class="si">}</span><span class="sb">] seconds`</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">currentNumber</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">interval</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="mf">1000</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">init</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">setInterval</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">setRandomAirplayConfigs</span><span class="p">();</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="mf">500</span><span class="p">)</span>

<span class="w">  </span><span class="nx">countdown</span><span class="p">(</span><span class="nx">delay_in_seconds</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">init</span><span class="p">();</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<table>
<thead>
<tr>
<th>Time</th>
<th>Source</th>
<th>Message</th>
</tr>
</thead>
<tbody>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Runtime stopped!</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Using XAPI transport: WebSocket</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Starting macros...</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Subscription stopping in [5] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>QJS Ready</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Changes: {"Mode":"On"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Changes: {"Beacon":"Off"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Changes: {"Password":"***"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Subscription stopping in [4] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Changes: {"Mode":"Off"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Changes: {"Password":"***"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Changes: {"Mode":"On"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Changes: {"Password":"***"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Subscription stopping in [3] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Changes: {"Beacon":"Auto"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Changes: {"Password":"***"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Changes: {"Password":"***"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Subscription stopping in [2] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Changes: {"Mode":"Off"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Changes: {"Beacon":"Off"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Changes: {"Password":"***"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Changes: {"Beacon":"Auto"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Changes: {"Password":"***"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Subscription stopping in [1] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Changes: {"Mode":"On"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Changes: {"Password":"***"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Changes: {"Mode":"Off"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Changes: {"Password":"***"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xConfigs_Lesson-5_MacroPak_2-6-4</td>
<td>Airplay Subscription stopped!</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</details>
</details>
<!-- ??? challenge "Challenge: Can you spot the Error?"

    In both the `xConfigs_Lesson-4_MacroPak_2-6-4` and `xConfigs_Lesson-5_MacroPak_2-6-4` macros, there is an error

    It's not an error in the syntax or format, but an error in the automation

    What do these macros continue to do if they are left active on a Codec that could be problematic?

    <a class="md-button md-button--primary" href="../challengeAnswers/" target="_blank" >
          Giving Up? Check out the Challenge Answers Page <i class="fa-solid fa-square-up-right"></i>
    </a> -->

<h2 id="getting-and-subscribing-to-xstatuses-rxp-65"><strong>Getting and Subscribing to xStatuses</strong> <sub>(rxp-6.5)</sub></h2>
<details class="lesson" open="open">
<summary>Lesson: Get an xStatus Value <sub>(rxp-6.5.1)</sub></summary>
<ul>
<li>
<p><strong>xAPI:</strong> xStatus Audio Volume</p>
</li>
<li>
<p><strong>Task:</strong></p>
<ul>
<li>Activate the <mark>xStatuses_Lesson-1_MacroPak_2-6-4</mark> macro</li>
<li>Modify the <code>getStatusValue()</code> function by replacing the existing value of <code>targetStatus</code> with <mark>xStatus Audio Volume</mark> written in Macro Syntax</li>
<li>
<p>Save your Macro and monitor the Macro Console as well as the Device to see if you had a successful response</p>
</li>
<li>
<p>When Complete, deactivate the <mark>xStatuses_Lesson-1_MacroPak_2-6-4</mark> macro</p>
</li>
</ul>
</li>
</ul>
<details>
<summary>View Successful Macro Syntax and Log output</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="14:2"><input checked="checked" id="__tabbed_14_1" name="__tabbed_14" type="radio"><input id="__tabbed_14_2" name="__tabbed_14" type="radio"><div class="tabbed-labels"><label for="__tabbed_14_1">Macro</label><label for="__tabbed_14_2">Log Output</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Lab Guide: https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_2/#265-getting-and-subscribing-to-xstatuses</span>
<span class="cm"> * </span>
<span class="cm"> * Lesson 1: Getting an xStatus Value</span>
<span class="cm"> */</span>

<span class="c1">// Enter your solution below this line</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">getStatusValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Modify targetStatus below</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">targetStatus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Status</span><span class="p">.</span><span class="nx">Audio</span><span class="p">.</span><span class="nx">Volume</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Don't go past this line</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Volume:'</span><span class="p">,</span><span class="w"> </span><span class="nx">targetStatus</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">};</span>

<span class="nx">getStatusValue</span><span class="p">();</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<table>
<thead>
<tr>
<th>Timestamp</th>
<th>Source</th>
<th>Message</th>
</tr>
</thead>
<tbody>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Runtime stopped!</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Using XAPI transport: WebSocket</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Starting macros...</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-1_MacroPak_2-6-4</td>
<td>QJS Ready</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-1_MacroPak_2-6-4</td>
<td>Volume: 50</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</details>
</details>
<details class="lesson">
<summary>Lesson: Get multiple xStatuses under a Common Node <sub>(rxp-6.5.2)</sub></summary>
<ul>
<li>
<p><strong>xAPI:</strong> xStatus Audio</p>
</li>
<li>
<p><strong>Task:</strong></p>
<ul>
<li>Activate the <mark>xStatuses_Lesson-2_MacroPak_2-6-4</mark> macro</li>
<li>Modify the <code>getStatusValue()</code> function by replacing the existing value of <code>targetStatus</code> with <mark>xStatus Audio</mark> written in Macro Syntax</li>
<li>
<p>Save your Macro and monitor the Macro Console as well as the Device to see if you had a successful response</p>
</li>
<li>
<p>When Complete, deactivate the <mark>xStatuses_Lesson-2_MacroPak_2-6-4</mark> macro</p>
</li>
</ul>
</li>
</ul>
<details>
<summary>View Successful Macro Syntax and Log output</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="15:2"><input checked="checked" id="__tabbed_15_1" name="__tabbed_15" type="radio"><input id="__tabbed_15_2" name="__tabbed_15" type="radio"><div class="tabbed-labels"><label for="__tabbed_15_1">Macro</label><label for="__tabbed_15_2">Log Output</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Lab Guide: https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_2/#265-getting-and-subscribing-to-xstatuses</span>
<span class="cm"> * </span>
<span class="cm"> * Lesson 2: Getting an xStatus Value</span>
<span class="cm"> */</span>

<span class="c1">// Enter your solution below this line</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">getStatusValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Modify targetStatus below</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">targetStatus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Status</span><span class="p">.</span><span class="nx">Audio</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Don't go past this line</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">targetStatus</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">};</span>

<span class="nx">getStatusValue</span><span class="p">();</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<table>
<thead>
<tr>
<th>Timestamp</th>
<th>Source</th>
<th>Message</th>
</tr>
</thead>
<tbody>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Runtime stopped!</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Using XAPI transport: WebSocket</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Starting macros...</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-2_MacroPak_2-6-4</td>
<td>QJS Ready</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-2_MacroPak_2-6-4</td>
<td><code>{ "Devices": { "Bluetooth": { "ActiveProfile": "None" }, "HandsetUSB": { "ConnectionStatus": "NotConnected", "Cradle": "OnHook" }, "HeadsetUSB": { "ConnectionStatus": "NotConnected", "Description": "", "Manufacturer": "" } }, "Input": { "Connectors": { "HDMI": [ { "Mute": "On", "id": "1" } ], "Microphone": [ { "ConnectionStatus": "Connected", "id": "1" }, { "ConnectionStatus": "NotConnected", "id": "2" }, { "ConnectionStatus": "NotConnected", "id": "3" } ], "USBC": [ { "Mute": "On", "id": "1" } ] } } }{..."And the List Goes On"}</code></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</details>
</details>
<details class="lesson">
<summary>Lesson: Subscribe and Unsubscribe to an xStatus <sub>(rxp-6.5.3)</sub></summary>
<ul>
<li>
<p><strong>xAPI:</strong> xStatus Audio Volume</p>
</li>
<li>
<p><strong>Task</strong>:</p>
<ul>
<li>Activate the <mark>xStatuses_Lesson-3_MacroPak_2-6-5</mark> macro</li>
<li>Modify the <code>subscribeToVolume</code> object by replacing it's value with <mark>xStatus Audio Volume</mark> written in Macro Syntax using the <code>.on()</code> method<ul>
<li>In order to unsubscribe, we need to assign our xAPI subscription to an object, so we can later call it, which will end it's subscription</li>
<li>For example, after you assign the <mark>subscribeToVolume</mark> properly, running <mark>subscribeToVolume</mark><ins class="critic">()</ins> will stop your active subscription</li>
</ul>
</li>
<li>
<p>Save your Macro, raise and lower the volume on your Codec and monitor the Macro Console to see if you had a successful response</p>
<ul>
<li>NOTE: This macro will automatically unsubscribe for you. Review those steps, to get a better understand as to how we unsubscribe.</li>
</ul>
</li>
<li>
<p>When Complete, deactivate the <mark>xStatuses_Lesson-3_MacroPak_2-6-5</mark> macro</p>
</li>
</ul>
</li>
</ul>
<details class="success">
<summary>View Successful Macro Syntax and Log output</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="16:2"><input checked="checked" id="__tabbed_16_1" name="__tabbed_16" type="radio"><input id="__tabbed_16_2" name="__tabbed_16" type="radio"><div class="tabbed-labels"><label for="__tabbed_16_1">Macro</label><label for="__tabbed_16_2">Log Output</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Lab Guide: https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_2/#265-getting-and-subscribing-to-xstatuses</span>
<span class="cm"> * </span>
<span class="cm"> * Lesson 3: Subscribe and Unsubscribe to an xStatus</span>
<span class="cm">*/</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">delay_in_seconds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">10</span><span class="p">;</span>

<span class="c1">// Edit this Object to include your xStatus Subscription</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">subscribeToVolume</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Status</span><span class="p">.</span><span class="nx">Audio</span><span class="p">.</span><span class="nx">Volume</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">vol</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Volume:'</span><span class="p">,</span><span class="w"> </span><span class="nx">vol</span><span class="p">)</span>
<span class="p">});</span>

<span class="c1">// Do not edit past this line, but feel free to review what's going on :)</span>

<span class="c1">// Here, we use JS Timeouts to set an action to run after X seconds. Timeouts use milliseconds, hence why we multiply by 1000</span>
<span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="nx">subscribeToVolume</span><span class="p">();</span><span class="w"> </span><span class="c1">//&lt;-- By calling the Object we assigned our Subscription too as a function(), we will unsubscribe from it</span>

<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s2">"Volume Subscription stopped!"</span><span class="p">);</span>

<span class="p">},</span><span class="w"> </span><span class="nx">delay_in_seconds</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1000</span><span class="p">)</span>


<span class="c1">// This countdown is used to help you visualize when the process will complete it's course</span>
<span class="c1">// We use console.warn to have this countdown print in another color in the Macro Console</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">countdown</span><span class="p">(</span><span class="nx">startNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">currentNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">startNumber</span><span class="p">;</span>

<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="sb">`Volume Subscription stopping in [</span><span class="si">${</span><span class="nx">currentNumber</span><span class="si">}</span><span class="sb">] seconds`</span><span class="p">);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">setInterval</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">currentNumber</span><span class="o">--</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">currentNumber</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="sb">`Volume Subscription stopping in [</span><span class="si">${</span><span class="nx">currentNumber</span><span class="si">}</span><span class="sb">] seconds`</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">currentNumber</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">interval</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="mf">1000</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">init</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">countdown</span><span class="p">(</span><span class="nx">delay_in_seconds</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">init</span><span class="p">();</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<table>
<thead>
<tr>
<th>Time</th>
<th>Source</th>
<th>Message</th>
</tr>
</thead>
<tbody>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Using XAPI transport: WebSocket</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Starting macros...</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-3_MacroPak_2-6-5</td>
<td>Volume Subscription stopping in [10] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-3_MacroPak_2-6-5</td>
<td>QJS Ready</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-3_MacroPak_2-6-5</td>
<td>Volume Subscription stopping in [9] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-3_MacroPak_2-6-5</td>
<td>Volume Subscription stopping in [8] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-3_MacroPak_2-6-5</td>
<td>Volume Subscription stopping in [7] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-3_MacroPak_2-6-5</td>
<td>Volume: 80</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-3_MacroPak_2-6-5</td>
<td>Volume: 85</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-3_MacroPak_2-6-5</td>
<td>Volume Subscription stopping in [6] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-3_MacroPak_2-6-5</td>
<td>Volume: 90</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-3_MacroPak_2-6-5</td>
<td>Volume Subscription stopping in [5] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-3_MacroPak_2-6-5</td>
<td>Volume: 85</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-3_MacroPak_2-6-5</td>
<td>Volume Subscription stopping in [4] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-3_MacroPak_2-6-5</td>
<td>Volume: 80</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-3_MacroPak_2-6-5</td>
<td>Volume Subscription stopping in [3] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-3_MacroPak_2-6-5</td>
<td>Volume: 75</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-3_MacroPak_2-6-5</td>
<td>Volume: 70</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-3_MacroPak_2-6-5</td>
<td>Volume Subscription stopping in [2] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-3_MacroPak_2-6-5</td>
<td>Volume: 65</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-3_MacroPak_2-6-5</td>
<td>Volume Subscription stopping in [1] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-3_MacroPak_2-6-5</td>
<td>Volume: 60</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-3_MacroPak_2-6-5</td>
<td>Volume Subscription stopped!</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</details>
</details>
<details class="lesson">
<summary>Lesson: Subscribe and Unsubscribe to Multiple xStatuses under a Common Node <sub>(rxp-6.5.4)</sub></summary>
<ul>
<li>
<p><strong>xAPI:</strong> xStatus Cameras Camera[N] Position</p>
</li>
<li>
<p><strong>Task</strong>:</p>
<ul>
<li>Activate the <mark>xStatuses_Lesson-4_MacroPak_2-6-5</mark> macro</li>
<li>Modify the <code>subscribeToCameraPositions</code> object by replacing it's value with <mark>xStatus Cameras Camera[N] Position</mark> written in Macro Syntax using the <code>.on()</code> method<ul>
<li>In order to unsubscribe, we need to assign our xAPI subscription to an object, so we can later call it, which will end it's subscription</li>
<li>For example, after you assign the <mark>subscribeToCameraPositions</mark> properly, running <mark>subscribeToCameraPositions</mark><ins class="critic">()</ins> will stop your active subscription</li>
</ul>
</li>
<li>
<ul>
<li>Access the Codec's Control Panel on it's touch interface</li>
<li>Select Cameras</li>
<li>Select Manual</li>
<li>Then use the Control Wheel, Zoom In (+) and and Zoom out (-) buttons and observe your Macro Log output</li>
</ul>
<p>Save your Macro, and perform the following steps</p>
<ul>
<li>NOTE: This macro will automatically unsubscribe for you. Review those steps, to get a better understand as to how we unsubscribe.</li>
</ul>
</li>
<li>
<p>When Complete, deactivate the <mark>xStatuses_Lesson-4_MacroPak_2-6-5</mark> macro</p>
</li>
</ul>
</li>
</ul>
<details class="gif">
<summary>Accessing the Camera Menu</summary>
<p></p><figure markdown>
  <a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../images/2-2-4_CameraMenuAccess.gif" data-title="Navigate to Camera Control Menu GIF" data-desc-position="top"><img alt="Navigate to Camera Control Menu GIF" src="../images/2-2-4_CameraMenuAccess.gif" width="600"></a>
</figure><p></p>
</details>
<details class="success">
<summary>View Successful Macro Syntax and Log output</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="17:2"><input checked="checked" id="__tabbed_17_1" name="__tabbed_17" type="radio"><input id="__tabbed_17_2" name="__tabbed_17" type="radio"><div class="tabbed-labels"><label for="__tabbed_17_1">Macro</label><label for="__tabbed_17_2">Log Output</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Lab Guide: https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_2/#265-getting-and-subscribing-to-xstatuses</span>
<span class="cm"> * </span>
<span class="cm"> * Lesson 4: Subscribe and Unsubscribe to Multiple xStatuses under a Common Node</span>
<span class="cm">*/</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">delay_in_seconds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">10</span><span class="p">;</span>

<span class="c1">// Edit this Object to include your xStatus Subscription</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">subscribeToCameraPositions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Status</span><span class="p">.</span><span class="nx">Cameras</span><span class="p">.</span><span class="nx">Camera</span><span class="p">.</span><span class="nx">Position</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">event</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span>
<span class="p">});</span>

<span class="c1">// Do not edit past this line, but feel free to review what's going on :)</span>

<span class="c1">// Here, we use JS Timeouts to set an action to run after X seconds. Timeouts use milliseconds, hence why we multiply by 1000</span>
<span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="nx">subscribeToCameraPositions</span><span class="p">();</span><span class="w"> </span><span class="c1">//&lt;-- By calling the Object we assigned our Subscription too as a function(), we will unsubscribe from it</span>

<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s2">"CameraPositions Subscription stopped!"</span><span class="p">);</span>

<span class="p">},</span><span class="w"> </span><span class="nx">delay_in_seconds</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1000</span><span class="p">)</span>


<span class="c1">// This countdown is used to help you visualize when the process will complete it's course</span>
<span class="c1">// We use console.warn to have this countdown print in another color in the Macro Console</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">countdown</span><span class="p">(</span><span class="nx">startNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">currentNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">startNumber</span><span class="p">;</span>

<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="sb">`CameraPositions Subscription stopping in [</span><span class="si">${</span><span class="nx">currentNumber</span><span class="si">}</span><span class="sb">] seconds`</span><span class="p">);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">setInterval</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">currentNumber</span><span class="o">--</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">currentNumber</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="sb">`CameraPositions Subscription stopping in [</span><span class="si">${</span><span class="nx">currentNumber</span><span class="si">}</span><span class="sb">] seconds`</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">currentNumber</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">interval</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="mf">1000</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">init</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">countdown</span><span class="p">(</span><span class="nx">delay_in_seconds</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">init</span><span class="p">();</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<table>
<thead>
<tr>
<th>Time</th>
<th>Source</th>
<th>Message</th>
</tr>
</thead>
<tbody>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Runtime stopped!</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Using XAPI transport: WebSocket</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Starting macros...</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-4_MacroPak_2-6-5</td>
<td>CameraPositions Subscription stopping in [10] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-4_MacroPak_2-6-5</td>
<td>QJS Ready</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-4_MacroPak_2-6-5</td>
<td>{"Zoom":"4295"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-4_MacroPak_2-6-5</td>
<td>CameraPositions Subscription stopping in [9] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-4_MacroPak_2-6-5</td>
<td>{"Zoom":"5662"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-4_MacroPak_2-6-5</td>
<td>CameraPositions Subscription stopping in [8] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-4_MacroPak_2-6-5</td>
<td>{"Pan":"-65"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-4_MacroPak_2-6-5</td>
<td>CameraPositions Subscription stopping in [7] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-4_MacroPak_2-6-5</td>
<td>{"Pan":"-64","Tilt":"123"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-4_MacroPak_2-6-5</td>
<td>CameraPositions Subscription stopping in [6] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-4_MacroPak_2-6-5</td>
<td>{"Pan":"-61","Tilt":"-20"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-4_MacroPak_2-6-5</td>
<td>{"Pan":"-24","Tilt":"-19"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-4_MacroPak_2-6-5</td>
<td>CameraPositions Subscription stopping in [5] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-4_MacroPak_2-6-5</td>
<td>{"Tilt":"47"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-4_MacroPak_2-6-5</td>
<td>CameraPositions Subscription stopping in [4] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-4_MacroPak_2-6-5</td>
<td>{"Zoom":"4384"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-4_MacroPak_2-6-5</td>
<td>CameraPositions Subscription stopping in [3] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-4_MacroPak_2-6-5</td>
<td>{"Tilt":"-14"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-4_MacroPak_2-6-5</td>
<td>CameraPositions Subscription stopping in [2] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-4_MacroPak_2-6-5</td>
<td>{"Pan":"14"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-4_MacroPak_2-6-5</td>
<td>CameraPositions Subscription stopping in [1] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xStatuses_Lesson-4_MacroPak_2-6-5</td>
<td>CameraPositions Subscription stopped!</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</details>
</details>
<h2 id="subscribing-to-xevents-rxp-66"><strong>Subscribing to xEvents</strong> <sub>(rxp-6.6)</sub></h2>
<details class="lesson" open="open">
<summary>Lesson: Subscribe and Unsubscribe to an xEvent <sub>(rxp-6.6.1)</sub></summary>
<ul>
<li>
<p><strong>xAPI:</strong> xEvent UserInterface Extensions Widget Action</p>
</li>
<li>
<p><strong>Task</strong>:</p>
<ul>
<li>Activate the <mark>xEvents_Lesson-1_MacroPak_2-6-6</mark> macro</li>
<li>Modify the <code>subscribeToWidgetActions</code> object by replacing it's value with <mark>xEvent UserInterface Widget Action</mark> written in Macro Syntax using the <code>.on()</code> method<ul>
<li>In order to unsubscribe, we need to assign our xAPI subscription to an object, so we can later call it, which will end it's subscription</li>
<li>For example, after you assign the <mark>subscribeToWidgetActions</mark> properly, running <mark>subscribeToWidgetActions</mark><ins class="critic">()</ins> will stop your active subscription</li>
</ul>
</li>
<li>
<p>Save your Macro, open the <mark>MultiLine Command [2.6.6]</mark> Panel on your Codec's touch interface, press one or more of the buttons and observe the Macro Log Output</p>
<ul>
<li>NOTE: This macro will automatically unsubscribe for you. Review those steps, to get a better understand as to how we unsubscribe.</li>
</ul>
</li>
<li>
<p>When Complete, deactivate the <mark>xEvents_Lesson-1_MacroPak_2-6-6</mark> macro</p>
</li>
</ul>
</li>
</ul>
<details class="gif">
<summary>Open the <strong>MultiLine Command [2.6.6]</strong> Panel</summary>
<p></p><figure markdown>
  <a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../images/2-6-6_Get-xEvent-WidgetActions.gif" data-title="Open the MultiLine Command [2.6.6] Panel" data-desc-position="top"><img alt="Open the MultiLine Command [2.6.6] Panel" src="../images/2-6-6_Get-xEvent-WidgetActions.gif" width="600"></a>
</figure><p></p>
</details>
<details class="success">
<summary>View Successful Macro Syntax and Log output</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="18:2"><input checked="checked" id="__tabbed_18_1" name="__tabbed_18" type="radio"><input id="__tabbed_18_2" name="__tabbed_18" type="radio"><div class="tabbed-labels"><label for="__tabbed_18_1">Macro</label><label for="__tabbed_18_2">Log Output</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Lab Guide: https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_2/#266-subscribing-to-xevents</span>
<span class="cm"> * </span>
<span class="cm"> * Lesson 1: Subscribe and Unsubscribe to an xEvent</span>
<span class="cm">*/</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">delay_in_seconds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">10</span><span class="p">;</span>

<span class="c1">// Edit this Object to include your xEvent Subscription</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">subscribeToWidgetActions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Event</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">Extensions</span><span class="p">.</span><span class="nx">Widget</span><span class="p">.</span><span class="nx">Action</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">event</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span>
<span class="p">});</span>

<span class="c1">// Do not edit past this line, but feel free to review what's going on :)</span>

<span class="c1">// Here, we use JS Timeouts to set an action to run after X seconds. Timeouts use milliseconds, hence why we multiply by 1000</span>
<span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="nx">subscribeToWidgetActions</span><span class="p">();</span><span class="w"> </span><span class="c1">//&lt;-- By calling the Object we assigned our Subscription too as a function(), we will unsubscribe from it</span>

<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s2">"WidgetActions Subscription stopped!"</span><span class="p">);</span>

<span class="p">},</span><span class="w"> </span><span class="nx">delay_in_seconds</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1000</span><span class="p">)</span>


<span class="c1">// This countdown is used to help you visualize when the process will complete it's course</span>
<span class="c1">// We use console.warn to have this countdown print in another color in the Macro Console</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">countdown</span><span class="p">(</span><span class="nx">startNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">currentNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">startNumber</span><span class="p">;</span>

<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="sb">`WidgetActions Subscription stopping in [</span><span class="si">${</span><span class="nx">currentNumber</span><span class="si">}</span><span class="sb">] seconds`</span><span class="p">);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">setInterval</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">currentNumber</span><span class="o">--</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">currentNumber</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="sb">`WidgetActions Subscription stopping in [</span><span class="si">${</span><span class="nx">currentNumber</span><span class="si">}</span><span class="sb">] seconds`</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">currentNumber</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">interval</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="mf">1000</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">myPanelId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'wx1_lab_multilineCommand'</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">myUserinterfaceXML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`&lt;Extensions&gt;</span>
<span class="sb">  &lt;Panel&gt;</span>
<span class="sb">    &lt;Order&gt;1&lt;/Order&gt;</span>
<span class="sb">    &lt;PanelId&gt;wx1_lab_multilineCommand&lt;/PanelId&gt;</span>
<span class="sb">    &lt;Location&gt;HomeScreen&lt;/Location&gt;</span>
<span class="sb">    &lt;Icon&gt;Info&lt;/Icon&gt;</span>
<span class="sb">    &lt;Color&gt;#FC5143&lt;/Color&gt;</span>
<span class="sb">    &lt;Name&gt;MultiLine Command [2.6.6]&lt;/Name&gt;</span>
<span class="sb">    &lt;ActivityType&gt;Custom&lt;/ActivityType&gt;</span>
<span class="sb">    &lt;Page&gt;</span>
<span class="sb">      &lt;Name&gt;Page&lt;/Name&gt;</span>
<span class="sb">      &lt;Row&gt;</span>
<span class="sb">        &lt;Name&gt;Buttons&lt;/Name&gt;</span>
<span class="sb">        &lt;Widget&gt;</span>
<span class="sb">          &lt;WidgetId&gt;wx1_GroupButton&lt;/WidgetId&gt;</span>
<span class="sb">          &lt;Type&gt;GroupButton&lt;/Type&gt;</span>
<span class="sb">          &lt;Options&gt;size=4&lt;/Options&gt;</span>
<span class="sb">          &lt;ValueSpace&gt;</span>
<span class="sb">            &lt;Value&gt;</span>
<span class="sb">              &lt;Key&gt;GroupButton_A&lt;/Key&gt;</span>
<span class="sb">              &lt;Name&gt;A&lt;/Name&gt;</span>
<span class="sb">            &lt;/Value&gt;</span>
<span class="sb">            &lt;Value&gt;</span>
<span class="sb">              &lt;Key&gt;GroupButton_B&lt;/Key&gt;</span>
<span class="sb">              &lt;Name&gt;B&lt;/Name&gt;</span>
<span class="sb">            &lt;/Value&gt;</span>
<span class="sb">            &lt;Value&gt;</span>
<span class="sb">              &lt;Key&gt;GroupButton_C&lt;/Key&gt;</span>
<span class="sb">              &lt;Name&gt;C&lt;/Name&gt;</span>
<span class="sb">            &lt;/Value&gt;</span>
<span class="sb">          &lt;/ValueSpace&gt;</span>
<span class="sb">        &lt;/Widget&gt;</span>
<span class="sb">        &lt;Widget&gt;</span>
<span class="sb">          &lt;WidgetId&gt;wx1_TextButton&lt;/WidgetId&gt;</span>
<span class="sb">          &lt;Name&gt;Text&lt;/Name&gt;</span>
<span class="sb">          &lt;Type&gt;Button&lt;/Type&gt;</span>
<span class="sb">          &lt;Options&gt;size=1&lt;/Options&gt;</span>
<span class="sb">        &lt;/Widget&gt;</span>
<span class="sb">        &lt;Widget&gt;</span>
<span class="sb">          &lt;WidgetId&gt;wx1_IconButton&lt;/WidgetId&gt;</span>
<span class="sb">          &lt;Type&gt;Button&lt;/Type&gt;</span>
<span class="sb">          &lt;Options&gt;size=1;icon=green&lt;/Options&gt;</span>
<span class="sb">        &lt;/Widget&gt;</span>
<span class="sb">        &lt;Widget&gt;</span>
<span class="sb">          &lt;WidgetId&gt;wx1_SpinnerButton&lt;/WidgetId&gt;</span>
<span class="sb">          &lt;Type&gt;Spinner&lt;/Type&gt;</span>
<span class="sb">          &lt;Options&gt;size=2&lt;/Options&gt;</span>
<span class="sb">        &lt;/Widget&gt;</span>
<span class="sb">      &lt;/Row&gt;</span>
<span class="sb">      &lt;Row&gt;</span>
<span class="sb">        &lt;Name&gt;Control Wheel&lt;/Name&gt;</span>
<span class="sb">        &lt;Widget&gt;</span>
<span class="sb">          &lt;WidgetId&gt;wx1_ControlWheel&lt;/WidgetId&gt;</span>
<span class="sb">          &lt;Type&gt;DirectionalPad&lt;/Type&gt;</span>
<span class="sb">          &lt;Options&gt;size=4&lt;/Options&gt;</span>
<span class="sb">        &lt;/Widget&gt;</span>
<span class="sb">      &lt;/Row&gt;</span>
<span class="sb">      &lt;Row&gt;</span>
<span class="sb">        &lt;Name&gt;Toggle and Slider&lt;/Name&gt;</span>
<span class="sb">        &lt;Widget&gt;</span>
<span class="sb">          &lt;WidgetId&gt;wx1_Toggle&lt;/WidgetId&gt;</span>
<span class="sb">          &lt;Type&gt;ToggleButton&lt;/Type&gt;</span>
<span class="sb">          &lt;Options&gt;size=1&lt;/Options&gt;</span>
<span class="sb">        &lt;/Widget&gt;</span>
<span class="sb">        &lt;Widget&gt;</span>
<span class="sb">          &lt;WidgetId&gt;wx1_Slider&lt;/WidgetId&gt;</span>
<span class="sb">          &lt;Type&gt;Slider&lt;/Type&gt;</span>
<span class="sb">          &lt;Options&gt;size=3&lt;/Options&gt;</span>
<span class="sb">        &lt;/Widget&gt;</span>
<span class="sb">      &lt;/Row&gt;</span>
<span class="sb">      &lt;Options/&gt;</span>
<span class="sb">    &lt;/Page&gt;</span>
<span class="sb">  &lt;/Panel&gt;</span>
<span class="sb">&lt;/Extensions&gt;`</span>


<span class="kd">const</span><span class="w"> </span><span class="nx">buildUserInterface</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">saveUI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">Extensions</span><span class="p">.</span><span class="nx">Panel</span><span class="p">.</span><span class="nx">Save</span><span class="p">({</span><span class="w"> </span><span class="nx">PanelId</span><span class="o">:</span><span class="w"> </span><span class="nx">myPanelId</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nx">myUserinterfaceXML</span><span class="p">)</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Panel [</span><span class="si">${</span><span class="nx">myPanelId</span><span class="si">}</span><span class="sb">] saved to the codec`</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">init</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">countdown</span><span class="p">(</span><span class="nx">delay_in_seconds</span><span class="p">);</span>

<span class="w">  </span><span class="nx">buildUserInterface</span><span class="p">()</span>
<span class="p">}</span>

<span class="nx">init</span><span class="p">();</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<table>
<thead>
<tr>
<th>Time</th>
<th>Source</th>
<th>Message</th>
</tr>
</thead>
<tbody>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Runtime stopped!</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Using XAPI transport: WebSocket</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Starting macros...</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>QJS Ready</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>WidgetActions Subscription stopping in [10] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"pressed","Value":"GroupButton_A","WidgetId":"wx1_GroupButton","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"released","Value":"GroupButton_A","WidgetId":"wx1_GroupButton","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"pressed","Value":"GroupButton_B","WidgetId":"wx1_GroupButton","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>WidgetActions Subscription stopping in [9] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>Panel [wx1_lab_multilineCommand] saved to the codec</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"released","Value":"GroupButton_B","WidgetId":"wx1_GroupButton","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"pressed","Value":"GroupButton_C","WidgetId":"wx1_GroupButton","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"released","Value":"GroupButton_C","WidgetId":"wx1_GroupButton","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>WidgetActions Subscription stopping in [8] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"pressed","Value":"","WidgetId":"wx1_TextButton","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"released","Value":"","WidgetId":"wx1_TextButton","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"clicked","Value":"","WidgetId":"wx1_TextButton","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"pressed","Value":"","WidgetId":"wx1_IconButton","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>WidgetActions Subscription stopping in [7] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"released","Value":"","WidgetId":"wx1_IconButton","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"clicked","Value":"","WidgetId":"wx1_IconButton","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"pressed","Value":"decrement","WidgetId":"wx1_SpinnerButton","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>WidgetActions Subscription stopping in [6] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"released","Value":"decrement","WidgetId":"wx1_SpinnerButton","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"clicked","Value":"decrement","WidgetId":"wx1_SpinnerButton","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>WidgetActions Subscription stopping in [5] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"pressed","Value":"increment","WidgetId":"wx1_SpinnerButton","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"released","Value":"increment","WidgetId":"wx1_SpinnerButton","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"clicked","Value":"increment","WidgetId":"wx1_SpinnerButton","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>WidgetActions Subscription stopping in [4] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"pressed","Value":"up","WidgetId":"wx1_ControlWheel","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"released","Value":"up","WidgetId":"wx1_ControlWheel","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"clicked","Value":"up","WidgetId":"wx1_ControlWheel","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"pressed","Value":"left","WidgetId":"wx1_ControlWheel","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>WidgetActions Subscription stopping in [3] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"released","Value":"left","WidgetId":"wx1_ControlWheel","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"clicked","Value":"left","WidgetId":"wx1_ControlWheel","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>WidgetActions Subscription stopping in [2] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"pressed","Value":"center","WidgetId":"wx1_ControlWheel","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"released","Value":"center","WidgetId":"wx1_ControlWheel","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"clicked","Value":"center","WidgetId":"wx1_ControlWheel","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>WidgetActions Subscription stopping in [1] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>{"Type":"changed","Value":"off","WidgetId":"wx1_Toggle","id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-1_MacroPak_2-6-6</td>
<td>WidgetActions Subscription stopped!</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</details>
</details>
<details class="lesson">
<summary>Lesson: Subscribe and Unsubscribe to Multiple xEvents under a Common Node <sub>(rxp-6.6.2)</sub></summary>
<ul>
<li>
<p><strong>xAPI:</strong> xEvent UserInterface Extensions</p>
</li>
<li>
<p><strong>Task</strong>:</p>
<ul>
<li>Activate the <mark>xEvents_Lesson-1_MacroPak_2-6-6</mark> macro</li>
<li>Modify the <code>subscribeToAllExtensions</code> object by replacing it's value with <mark>xEvent UserInterface</mark> written in Macro Syntax using the <code>.on()</code> method<ul>
<li>In order to unsubscribe, we need to assign our xAPI subscription to an object, so we can later call it, which will end it's subscription</li>
<li>For example, after you assign the <mark>subscribeToAllExtensions</mark> properly, running <mark>subscribeToAllExtensions</mark><ins class="critic">()</ins> will stop your active subscription</li>
</ul>
</li>
<li>
<p>Save your Macro, open the <mark>MultiLine Command [2.6.6]</mark> Panel on your Codec's touch interface, press one or more of the buttons and observe the Macro Log Output</p>
<ul>
<li>NOTE: This macro will automatically unsubscribe for you. Review those steps, to get a better understand as to how we unsubscribe.</li>
</ul>
</li>
<li>
<p>When Complete, deactivate the <mark>xEvents_Lesson-1_MacroPak_2-6-6</mark> macro</p>
</li>
</ul>
</li>
</ul>
<details class="gif">
<summary>Open the <strong>MultiLine Command [2.6.6]</strong> Panel</summary>
<p></p><figure markdown>
  <a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../images/2-6-6_Get-xEvent-WidgetActions.gif" data-title="Open the MultiLine Command [2.6.6] Panel" data-desc-position="top"><img alt="Open the MultiLine Command [2.6.6] Panel" src="../images/2-6-6_Get-xEvent-WidgetActions.gif" width="600"></a>
</figure><p></p>
</details>
<details class="success">
<summary>View Successful Macro Syntax and Log output</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="19:2"><input checked="checked" id="__tabbed_19_1" name="__tabbed_19" type="radio"><input id="__tabbed_19_2" name="__tabbed_19" type="radio"><div class="tabbed-labels"><label for="__tabbed_19_1">Macro</label><label for="__tabbed_19_2">Log Output</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="nx">xapi</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">'xapi'</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * Lab Guide: https://webexcc-sa.github.io/LAB-1451/wx1_1451_part_2/#266-subscribing-to-xevents</span>
<span class="cm"> * </span>
<span class="cm"> * Lesson 2: Subscribe and Unsubscribe to Multiple xEvents under a Common Node</span>
<span class="cm">*/</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">delay_in_seconds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">10</span><span class="p">;</span>

<span class="c1">// Edit this Object to include your xEvent Subscription</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">subscribeToAllExtensions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Event</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">Extensions</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">event</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span>
<span class="p">});</span>

<span class="c1">// Do not edit past this line, but feel free to review what's going on :)</span>

<span class="c1">// Here, we use JS Timeouts to set an action to run after X seconds. Timeouts use milliseconds, hence why we multiply by 1000</span>
<span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="nx">subscribeToAllExtensions</span><span class="p">();</span><span class="w"> </span><span class="c1">//&lt;-- By calling the Object we assigned our Subscription too as a function(), we will unsubscribe from it</span>

<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s2">"AllExtensions Subscription stopped!"</span><span class="p">);</span>

<span class="p">},</span><span class="w"> </span><span class="nx">delay_in_seconds</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1000</span><span class="p">)</span>


<span class="c1">// This countdown is used to help you visualize when the process will complete it's course</span>
<span class="c1">// We use console.warn to have this countdown print in another color in the Macro Console</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">countdown</span><span class="p">(</span><span class="nx">startNumber</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">currentNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">startNumber</span><span class="p">;</span>

<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="sb">`AllExtensions Subscription stopping in [</span><span class="si">${</span><span class="nx">currentNumber</span><span class="si">}</span><span class="sb">] seconds`</span><span class="p">);</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">setInterval</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">currentNumber</span><span class="o">--</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">currentNumber</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="sb">`AllExtensions Subscription stopping in [</span><span class="si">${</span><span class="nx">currentNumber</span><span class="si">}</span><span class="sb">] seconds`</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">currentNumber</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">interval</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="mf">1000</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">myPanelId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'wx1_lab_multilineCommand'</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">myUserinterfaceXML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`&lt;Extensions&gt;</span>
<span class="sb">  &lt;Panel&gt;</span>
<span class="sb">    &lt;Order&gt;1&lt;/Order&gt;</span>
<span class="sb">    &lt;PanelId&gt;wx1_lab_multilineCommand&lt;/PanelId&gt;</span>
<span class="sb">    &lt;Location&gt;HomeScreen&lt;/Location&gt;</span>
<span class="sb">    &lt;Icon&gt;Info&lt;/Icon&gt;</span>
<span class="sb">    &lt;Color&gt;#FF6F20&lt;/Color&gt;</span>
<span class="sb">    &lt;Name&gt;MultiLine Command [2.6.6]&lt;/Name&gt;</span>
<span class="sb">    &lt;ActivityType&gt;Custom&lt;/ActivityType&gt;</span>
<span class="sb">    &lt;Page&gt;</span>
<span class="sb">      &lt;Name&gt;Page&lt;/Name&gt;</span>
<span class="sb">      &lt;Row&gt;</span>
<span class="sb">        &lt;Name&gt;Buttons&lt;/Name&gt;</span>
<span class="sb">        &lt;Widget&gt;</span>
<span class="sb">          &lt;WidgetId&gt;wx1_GroupButton&lt;/WidgetId&gt;</span>
<span class="sb">          &lt;Type&gt;GroupButton&lt;/Type&gt;</span>
<span class="sb">          &lt;Options&gt;size=4&lt;/Options&gt;</span>
<span class="sb">          &lt;ValueSpace&gt;</span>
<span class="sb">            &lt;Value&gt;</span>
<span class="sb">              &lt;Key&gt;GroupButton_A&lt;/Key&gt;</span>
<span class="sb">              &lt;Name&gt;A&lt;/Name&gt;</span>
<span class="sb">            &lt;/Value&gt;</span>
<span class="sb">            &lt;Value&gt;</span>
<span class="sb">              &lt;Key&gt;GroupButton_B&lt;/Key&gt;</span>
<span class="sb">              &lt;Name&gt;B&lt;/Name&gt;</span>
<span class="sb">            &lt;/Value&gt;</span>
<span class="sb">            &lt;Value&gt;</span>
<span class="sb">              &lt;Key&gt;GroupButton_C&lt;/Key&gt;</span>
<span class="sb">              &lt;Name&gt;C&lt;/Name&gt;</span>
<span class="sb">            &lt;/Value&gt;</span>
<span class="sb">          &lt;/ValueSpace&gt;</span>
<span class="sb">        &lt;/Widget&gt;</span>
<span class="sb">        &lt;Widget&gt;</span>
<span class="sb">          &lt;WidgetId&gt;wx1_TextButton&lt;/WidgetId&gt;</span>
<span class="sb">          &lt;Name&gt;Text&lt;/Name&gt;</span>
<span class="sb">          &lt;Type&gt;Button&lt;/Type&gt;</span>
<span class="sb">          &lt;Options&gt;size=1&lt;/Options&gt;</span>
<span class="sb">        &lt;/Widget&gt;</span>
<span class="sb">        &lt;Widget&gt;</span>
<span class="sb">          &lt;WidgetId&gt;wx1_IconButton&lt;/WidgetId&gt;</span>
<span class="sb">          &lt;Type&gt;Button&lt;/Type&gt;</span>
<span class="sb">          &lt;Options&gt;size=1;icon=green&lt;/Options&gt;</span>
<span class="sb">        &lt;/Widget&gt;</span>
<span class="sb">        &lt;Widget&gt;</span>
<span class="sb">          &lt;WidgetId&gt;wx1_SpinnerButton&lt;/WidgetId&gt;</span>
<span class="sb">          &lt;Type&gt;Spinner&lt;/Type&gt;</span>
<span class="sb">          &lt;Options&gt;size=2&lt;/Options&gt;</span>
<span class="sb">        &lt;/Widget&gt;</span>
<span class="sb">      &lt;/Row&gt;</span>
<span class="sb">      &lt;Row&gt;</span>
<span class="sb">        &lt;Name&gt;Control Wheel&lt;/Name&gt;</span>
<span class="sb">        &lt;Widget&gt;</span>
<span class="sb">          &lt;WidgetId&gt;wx1_ControlWheel&lt;/WidgetId&gt;</span>
<span class="sb">          &lt;Type&gt;DirectionalPad&lt;/Type&gt;</span>
<span class="sb">          &lt;Options&gt;size=4&lt;/Options&gt;</span>
<span class="sb">        &lt;/Widget&gt;</span>
<span class="sb">      &lt;/Row&gt;</span>
<span class="sb">      &lt;Row&gt;</span>
<span class="sb">        &lt;Name&gt;Toggle and Slider&lt;/Name&gt;</span>
<span class="sb">        &lt;Widget&gt;</span>
<span class="sb">          &lt;WidgetId&gt;wx1_Toggle&lt;/WidgetId&gt;</span>
<span class="sb">          &lt;Type&gt;ToggleButton&lt;/Type&gt;</span>
<span class="sb">          &lt;Options&gt;size=1&lt;/Options&gt;</span>
<span class="sb">        &lt;/Widget&gt;</span>
<span class="sb">        &lt;Widget&gt;</span>
<span class="sb">          &lt;WidgetId&gt;wx1_Slider&lt;/WidgetId&gt;</span>
<span class="sb">          &lt;Type&gt;Slider&lt;/Type&gt;</span>
<span class="sb">          &lt;Options&gt;size=3&lt;/Options&gt;</span>
<span class="sb">        &lt;/Widget&gt;</span>
<span class="sb">      &lt;/Row&gt;</span>
<span class="sb">      &lt;Options/&gt;</span>
<span class="sb">    &lt;/Page&gt;</span>
<span class="sb">  &lt;/Panel&gt;</span>
<span class="sb">&lt;/Extensions&gt;`</span>


<span class="kd">const</span><span class="w"> </span><span class="nx">buildUserInterface</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">saveUI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">xapi</span><span class="p">.</span><span class="nx">Command</span><span class="p">.</span><span class="nx">UserInterface</span><span class="p">.</span><span class="nx">Extensions</span><span class="p">.</span><span class="nx">Panel</span><span class="p">.</span><span class="nx">Save</span><span class="p">({</span><span class="w"> </span><span class="nx">PanelId</span><span class="o">:</span><span class="w"> </span><span class="nx">myPanelId</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nx">myUserinterfaceXML</span><span class="p">)</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Panel [</span><span class="si">${</span><span class="nx">myPanelId</span><span class="si">}</span><span class="sb">] saved to the codec`</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">init</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">countdown</span><span class="p">(</span><span class="nx">delay_in_seconds</span><span class="p">);</span>

<span class="w">  </span><span class="nx">buildUserInterface</span><span class="p">()</span>
<span class="p">}</span>

<span class="nx">init</span><span class="p">();</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<table>
<thead>
<tr>
<th>Time</th>
<th>Source</th>
<th>Message</th>
</tr>
</thead>
<tbody>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Runtime stopped!</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Using XAPI transport: WebSocket</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>[system]</td>
<td>Starting macros...</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>AllExtensions Subscription stopping in [10] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>QJS Ready</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>Panel [wx1_lab_multilineCommand] saved to the codec</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Widget":{"LayoutUpdated":{"id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Panel":{"Clicked":{"PanelId":"wx1_lab_multilineCommand","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>AllExtensions Subscription stopping in [9] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>AllExtensions Subscription stopping in [8] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Event":{"Pressed":{"Signal":"wx1_GroupButton:GroupButton_A","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Widget":{"Action":{"Type":"pressed","Value":"GroupButton_A","WidgetId":"wx1_GroupButton","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Event":{"Released":{"Signal":"wx1_GroupButton:GroupButton_A","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Widget":{"Action":{"Type":"released","Value":"GroupButton_A","WidgetId":"wx1_GroupButton","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>AllExtensions Subscription stopping in [7] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Event":{"Pressed":{"Signal":"wx1_IconButton","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Widget":{"Action":{"Type":"pressed","Value":"","WidgetId":"wx1_IconButton","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Event":{"Released":{"Signal":"wx1_IconButton","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Widget":{"Action":{"Type":"released","Value":"","WidgetId":"wx1_IconButton","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Event":{"Clicked":{"Signal":"wx1_IconButton","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Widget":{"Action":{"Type":"clicked","Value":"","WidgetId":"wx1_IconButton","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>AllExtensions Subscription stopping in [6] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Event":{"Pressed":{"Signal":"wx1_ControlWheel:center","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Widget":{"Action":{"Type":"pressed","Value":"center","WidgetId":"wx1_ControlWheel","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Event":{"Released":{"Signal":"wx1_ControlWheel:center","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Widget":{"Action":{"Type":"released","Value":"center","WidgetId":"wx1_ControlWheel","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Event":{"Clicked":{"Signal":"wx1_ControlWheel:center","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Widget":{"Action":{"Type":"clicked","Value":"center","WidgetId":"wx1_ControlWheel","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>AllExtensions Subscription stopping in [5] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>AllExtensions Subscription stopping in [4] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Event":{"Pressed":{"Signal":"wx1_Slider:188","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Widget":{"Action":{"Type":"pressed","Value":"188","WidgetId":"wx1_Slider","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Event":{"Changed":{"Signal":"wx1_Slider:98","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Widget":{"Action":{"Type":"changed","Value":"98","WidgetId":"wx1_Slider","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Event":{"Changed":{"Signal":"wx1_Slider:98","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Widget":{"Action":{"Type":"changed","Value":"98","WidgetId":"wx1_Slider","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Event":{"Released":{"Signal":"wx1_Slider:98","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Widget":{"Action":{"Type":"released","Value":"98","WidgetId":"wx1_Slider","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>AllExtensions Subscription stopping in [3] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Event":{"Changed":{"Signal":"wx1_Toggle:on","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Widget":{"Action":{"Type":"changed","Value":"on","WidgetId":"wx1_Toggle","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>AllExtensions Subscription stopping in [2] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Event":{"Pressed":{"Signal":"wx1_SpinnerButton:decrement","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Widget":{"Action":{"Type":"pressed","Value":"decrement","WidgetId":"wx1_SpinnerButton","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>AllExtensions Subscription stopping in [1] seconds</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Event":{"Released":{"Signal":"wx1_SpinnerButton:decrement","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Widget":{"Action":{"Type":"released","Value":"decrement","WidgetId":"wx1_SpinnerButton","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Event":{"Clicked":{"Signal":"wx1_SpinnerButton:decrement","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>{"Widget":{"Action":{"Type":"clicked","Value":"decrement","WidgetId":"wx1_SpinnerButton","id":"1"},"id":"1"},"id":"1"}</td>
</tr>
<tr>
<td>HH:MM:SS</td>
<td>xEvents_Lesson-2_MacroPak_2-6-6</td>
<td>AllExtensions Subscription stopped!</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</details>
</details></strong></strong>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer">
        
          
          <a href="../rxp_xapi_http/" class="md-footer__link md-footer__link--prev" aria-label="Previous: HTTP &lt;sup&gt;&lt;sup&gt;rxp-3&lt;/sup&gt;&lt;/sup&gt;">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                HTTP <sup><sup>rxp-3</sup></sup>
              </div>
            </div>
          </a>
        
        
          
          <a href="../../rxp_userInterface/rxp_ui_intro/" class="md-footer__link md-footer__link--next" aria-label="Next: What are RoomOS UserInterfaces">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                What are RoomOS UserInterfaces
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © 2025 Cisco
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.instant", "navigation.top", "navigation.footer", "search.suggest", "content.code.copy", "toc.integrate", "content.tooltips", "content.footnote.tooltips"], "search": "../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../../../template_assets/js/newLoad.js"></script>
      
        <script src="../../../../template_assets/js/setInfo.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": false, "openEffect": "fade", "closeEffect": "fade", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>